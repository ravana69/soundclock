function xb(n){var q=0;return function(){return q<n.length?{done:!1,value:n[q++]}:{done:!0}}}function Ob(n){var q="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return q?q.call(n):{next:xb(n)}}var ae="function"==typeof Object.create?Object.create:function(n){function q(){}q.prototype=n;return new q},be="function"==typeof Object.defineProperties?Object.defineProperty:function(n,q,r){if(n==Array.prototype||n==Object.prototype)return n;n[q]=r.value;return n};
function pf(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var q=0;q<n.length;++q){var r=n[q];if(r&&r.Math==Math)return r}throw Error("Cannot find global object");}var ch=pf(this);function dh(n,q){if(q)a:{var r=ch;n=n.split(".");for(var x=0;x<n.length-1;x++){var D=n[x];if(!(D in r))break a;r=r[D]}n=n[n.length-1];x=r[n];q=q(x);q!=x&&null!=q&&be(r,n,{configurable:!0,writable:!0,value:q})}}var oj;
if("function"==typeof Object.setPrototypeOf)oj=Object.setPrototypeOf;else{var pj;a:{var qj={a:!0},rj={};try{rj.__proto__=qj;pj=rj.a;break a}catch(n){}pj=!1}oj=pj?function(n,q){n.__proto__=q;if(n.__proto__!==q)throw new TypeError(n+" is not extensible");return n}:null}var sj=oj;
function tj(n,q){n.prototype=ae(q.prototype);n.prototype.constructor=n;if(sj)sj(n,q);else for(var r in q)if("prototype"!=r)if(Object.defineProperties){var x=Object.getOwnPropertyDescriptor(q,r);x&&Object.defineProperty(n,r,x)}else n[r]=q[r];n.Sc=q.prototype}
dh("Symbol",function(n){function q(C){if(this instanceof q)throw new TypeError("Symbol is not a constructor");return new r(x+(C||"")+"_"+D++,C)}function r(C,Z){this.h=C;be(this,"description",{configurable:!0,writable:!0,value:Z})}if(n)return n;r.prototype.toString=function(){return this.h};var x="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",D=0;return q});
dh("Symbol.iterator",function(n){if(n)return n;n=Symbol("Symbol.iterator");for(var q="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<q.length;r++){var x=ch[q[r]];"function"===typeof x&&"function"!=typeof x.prototype[n]&&be(x.prototype,n,{configurable:!0,writable:!0,value:function(){return Lm(xb(this))}})}return n});function Lm(n){n={next:n};n[Symbol.iterator]=function(){return this};return n}
function Mm(n,q){n instanceof String&&(n+="");var r=0,x=!1,D={next:function(){if(!x&&r<n.length){var C=r++;return{value:q(C,n[C]),done:!1}}x=!0;return{done:!0,value:void 0}}};D[Symbol.iterator]=function(){return D};return D}dh("Array.prototype.keys",function(n){return n?n:function(){return Mm(this,function(q){return q})}});dh("Object.is",function(n){return n?n:function(q,r){return q===r?0!==q||1/q===1/r:q!==q&&r!==r}});
dh("Array.prototype.includes",function(n){return n?n:function(q,r){var x=this;x instanceof String&&(x=String(x));var D=x.length;r=r||0;for(0>r&&(r=Math.max(r+D,0));r<D;r++){var C=x[r];if(C===q||Object.is(C,q))return!0}return!1}});
dh("String.prototype.includes",function(n){return n?n:function(q,r){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(q instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(q,r||0)}});dh("Array.prototype.values",function(n){return n?n:function(){return Mm(this,function(q,r){return r})}});
function Nm(n,q){return Object.prototype.hasOwnProperty.call(n,q)}
dh("WeakMap",function(n){function q(t){this.h=(u+=Math.random()+1).toString();if(t){t=Ob(t);for(var v;!(v=t.next()).done;)v=v.value,this.set(v[0],v[1])}}function r(){}function x(t){var v=typeof t;return"object"===v&&null!==t||"function"===v}function D(t){if(!Nm(t,Z)){var v=new r;be(t,Z,{value:v})}}function C(t){var v=Object[t];v&&(Object[t]=function(B){if(B instanceof r)return B;Object.isExtensible(B)&&D(B);return v(B)})}if(function(){if(!n||!Object.seal)return!1;try{var t=Object.seal({}),v=Object.seal({}),
B=new n([[t,2],[v,3]]);if(2!=B.get(t)||3!=B.get(v))return!1;B.delete(t);B.set(v,4);return!B.has(t)&&4==B.get(v)}catch(wa){return!1}}())return n;var Z="$jscomp_hidden_"+Math.random();C("freeze");C("preventExtensions");C("seal");var u=0;q.prototype.set=function(t,v){if(!x(t))throw Error("Invalid WeakMap key");D(t);if(!Nm(t,Z))throw Error("WeakMap key fail: "+t);t[Z][this.h]=v;return this};q.prototype.get=function(t){return x(t)&&Nm(t,Z)?t[Z][this.h]:void 0};q.prototype.has=function(t){return x(t)&&
Nm(t,Z)&&Nm(t[Z],this.h)};q.prototype.delete=function(t){return x(t)&&Nm(t,Z)&&Nm(t[Z],this.h)?delete t[Z][this.h]:!1};return q});
dh("Map",function(n){function q(){var u={};return u.Ca=u.next=u.head=u}function r(u,t){var v=u.h;return Lm(function(){if(v){for(;v.head!=u.h;)v=v.Ca;for(;v.next!=v.head;)return v=v.next,{done:!1,value:t(v)};v=null}return{done:!0,value:void 0}})}function x(u,t){var v=t&&typeof t;"object"==v||"function"==v?C.has(t)?v=C.get(t):(v=""+ ++Z,C.set(t,v)):v="p_"+t;var B=u.j[v];if(B&&Nm(u.j,v))for(u=0;u<B.length;u++){var wa=B[u];if(t!==t&&wa.key!==wa.key||t===wa.key)return{id:v,list:B,index:u,ka:wa}}return{id:v,
list:B,index:-1,ka:void 0}}function D(u){this.j={};this.h=q();this.size=0;if(u){u=Ob(u);for(var t;!(t=u.next()).done;)t=t.value,this.set(t[0],t[1])}}if(function(){if(!n||"function"!=typeof n||!n.prototype.entries||"function"!=typeof Object.seal)return!1;try{var u=Object.seal({x:4}),t=new n(Ob([[u,"s"]]));if("s"!=t.get(u)||1!=t.size||t.get({x:4})||t.set({x:4},"t")!=t||2!=t.size)return!1;var v=t.entries(),B=v.next();if(B.done||B.value[0]!=u||"s"!=B.value[1])return!1;B=v.next();return B.done||4!=B.value[0].x||
"t"!=B.value[1]||!v.next().done?!1:!0}catch(wa){return!1}}())return n;var C=new WeakMap;D.prototype.set=function(u,t){u=0===u?0:u;var v=x(this,u);v.list||(v.list=this.j[v.id]=[]);v.ka?v.ka.value=t:(v.ka={next:this.h,Ca:this.h.Ca,head:this.h,key:u,value:t},v.list.push(v.ka),this.h.Ca.next=v.ka,this.h.Ca=v.ka,this.size++);return this};D.prototype.delete=function(u){u=x(this,u);return u.ka&&u.list?(u.list.splice(u.index,1),u.list.length||delete this.j[u.id],u.ka.Ca.next=u.ka.next,u.ka.next.Ca=u.ka.Ca,
u.ka.head=null,this.size--,!0):!1};D.prototype.clear=function(){this.j={};this.h=this.h.Ca=q();this.size=0};D.prototype.has=function(u){return!!x(this,u).ka};D.prototype.get=function(u){return(u=x(this,u).ka)&&u.value};D.prototype.entries=function(){return r(this,function(u){return[u.key,u.value]})};D.prototype.keys=function(){return r(this,function(u){return u.key})};D.prototype.values=function(){return r(this,function(u){return u.value})};D.prototype.forEach=function(u,t){for(var v=this.entries(),
B;!(B=v.next()).done;)B=B.value,u.call(t,B[1],B[0],this)};D.prototype[Symbol.iterator]=D.prototype.entries;var Z=0;return D});
dh("Set",function(n){function q(r){this.h=new Map;if(r){r=Ob(r);for(var x;!(x=r.next()).done;)this.add(x.value)}this.size=this.h.size}if(function(){if(!n||"function"!=typeof n||!n.prototype.entries||"function"!=typeof Object.seal)return!1;try{var r=Object.seal({x:4}),x=new n(Ob([r]));if(!x.has(r)||1!=x.size||x.add(r)!=x||1!=x.size||x.add({x:4})!=x||2!=x.size)return!1;var D=x.entries(),C=D.next();if(C.done||C.value[0]!=r||C.value[1]!=r)return!1;C=D.next();return C.done||C.value[0]==r||4!=C.value[0].x||
C.value[1]!=C.value[0]?!1:D.next().done}catch(Z){return!1}}())return n;q.prototype.add=function(r){r=0===r?0:r;this.h.set(r,r);this.size=this.h.size;return this};q.prototype.delete=function(r){r=this.h.delete(r);this.size=this.h.size;return r};q.prototype.clear=function(){this.h.clear();this.size=0};q.prototype.has=function(r){return this.h.has(r)};q.prototype.entries=function(){return this.h.entries()};q.prototype.values=function(){return this.h.values()};q.prototype.keys=q.prototype.values;q.prototype[Symbol.iterator]=
q.prototype.values;q.prototype.forEach=function(r,x){var D=this;this.h.forEach(function(C){return r.call(x,C,C,D)})};return q});
(function(n){function q(){this.touches=[]}function r(){this.ua=this.ta=this.y=this.x=0;this.Bb=this.Ta=this.Fb=this.fc=!1;this.hc=0}function x(){this.O=this.u=this.ua=this.ta=this.y=this.x=0;this.h=this.j=this.ea=this.ca=this.o=this.left=!1}function D(){this.keys=new nd;this.o=new Set;this.j=new Set;this.h=new Set;this.u=new Set}function C(){}function Z(a,b,c,d,e){this.j=new x;this.touches=new q;this.h=d?new D:null;this.Ra=0;this.o(a,c,b,e)}function u(){}function t(a,b,c){this.D=!1;this.l=a;this.name=
b;this.size=c;this.g=new Float32Array(64);this.length=0;this.maxLength=this.g.length;this.buffer=a.createBuffer()}function v(a){this.l=a;this.O=!(a instanceof WebGLRenderingContext);this.wa=null;this.o=this.j=33071;this.h=9729;this.wa=a.createTexture();this.ja=a.createFramebuffer();this.V=a.createRenderbuffer()}function B(){}function wa(a){this.l=a;this.R=a.createProgram();this.j=a.createShader(35633);this.h=a.createShader(35632);this.o=this.u=this.map=null;this.za=!1;this.xa=new nd}function uj(a){this.D=
!1;this.l=a;this.g=new Int32Array(512);this.length=0;this.buffer=a.createBuffer()}function ja(){var a=[];a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);this.g=a;a=[];a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);a.push(0);this.sa=a}function Eb(){}function P(a){this.ya=[];this.$a=[];this.canvas=a;this.Ob=a.getContext("webgl2",{premultipliedAlpha:!1});null==
this.Ob?this.l=eh.h(a):(console.log("../Pot/src/pot/graphics/Graphics.hx:272:","WebGL2 is used!"),this.l=this.Ob);this.rc();this.vc();this.qc();this.sc();this.Hc();this.Ea=Math.PI/3;this.mb=1;this.ca=.1;this.V=1E4;this.ea.perspective(this.ha(),this.fa/this.O,this.ca,this.V);this.tb=!1;this.Vb=this.Ub=0;this.Wb=1;this.Xb=this.Tb=this.Sb=this.Rb=0;this.Yb=1;this.Zb=0;this.screen(a.width,a.height);this.G=0;this.v=this.A=this.B=this.C=1;this.u=this.o=this.N=this.M=this.L=0;this.h=null;this.j=1;this.Da=
!1;this.na=Array(8);this.na[0]=new Eb;this.na[1]=new Eb;this.na[2]=new Eb;this.na[3]=new Eb;this.na[4]=new Eb;this.na[5]=new Eb;this.na[6]=new Eb;this.na[7]=new Eb;this.Ba=0}function Pb(a,b){this.h=a;this.canvas=b;this.o();this.j=new yb(ce(this,this.update),ce(this,this.Ma))}function yb(a,b){this.o=!1;this.update=a;this.Ma=b;this.h=16.666666666666668}function Fb(){this.u=Array(4096);this.o=[];this.Ka=0;this.O=!1;this.i=new y(0,-.015);this.h=[];this.da=[];for(var a=0,b=this.u.length;a<b;)this.u[a++]=
new Qb}function de(){this.n=new y(0,0);this.ba=new y(0,0);this.aa=new y(0,0)}function ee(){this.qa=[new de,new de];this.oa=0}function Qb(){this.ha=this.ja=this.Fa=this.Ga=this.o=this.u=this.O=this.V=this.h=this.j=this.ca=0;this.Ia=new y(0,0);this.Ha=new y(0,0);this.Ea=new y(0,0);this.ya=new y(0,0);this.ea=this.fa=0;this.ia=new qf(1,0,0,1);this.depth=this.Aa=this.target=0;this.t=new y(0,0);this.n=new y(0,0);this.T=this.U=null;this.Db=new y(0,0);this.Cb=new y(0,0);this.ba=new y(0,0);this.aa=new y(0,
0);this.Ab=new y(0,0);this.zb=new y(0,0)}function fh(){}function rf(){}function fe(a){ra.h=!0;var b=ra.call(this)||this;ra.h=!1;b.h(a);return b}function A(){}function sa(a,b){ra.h=!0;var c=ra.call(this)||this;ra.h=!1;c.h(a,b);return c}function ra(a){ra.h||this.h(a)}function Da(a){this.Aa=.1;this.lb=.9;this.shape=null;this.S=new qf(1,0,0,1);this.P=this.ia=this.yb=this.pa=0;this.H=new y(0,0);var b=this.p=new y(0,0);b.x=a.x;b.y=a.y}function sf(){this.max=new y(0,0);this.min=new y(0,0)}function Gb(a,
b,c){this.x=a;this.y=b;this.z=c}function y(a,b){this.x=a;this.y=b}function qf(a,b,c,d){this.W=a;this.X=b;this.Y=c;this.Z=d}function eh(){}function Ec(){}function nd(){this.s=Object.create(null)}function tf(a,b,c){b=ta.call(this,String(a),b,c)||this;b.value=a;return b}function ta(a,b,c){b=Error.call(this,a);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.message=a;this.h=null!=c?c:this}function xa(){}function ua(a,b,c,d){Fa.h=!0;var e=Fa.call(this)||this;Fa.h=!1;e.o(a,b,c,d);return e}
function Fa(a,b,c,d){Fa.h||this.o(a,b,c,d)}function zb(a){this.h=this.o=0;this.w=new Fb;this.V=[31599,4681,29671,29647,23497,31183,31215,29257,31727,31695,1040];this.time=a;a=new Date(a);var b=a.getHours();this.u=10>b?"0"+b:xa.h(b);b=a.getMinutes();this.O=10>b?"0"+b:xa.h(b);a=a.getSeconds();this.Ua=10>a?"0"+a:xa.h(a);this.ca()}function gh(){}function Fc(){return Ec.h(this,"")}function ce(a,b){if(null==b)return null;null==b.qb&&(b.qb=n.Hb++);var c;null==a.wb?a.wb={}:c=a.wb[b.qb];null==c&&(c=b.bind(a),
a.wb[b.qb]=c);return c}var ge=ge||{},ya;gh.h=function(a,b){b=a.indexOf(b);-1!=b&&a.splice(b,1)};gh.I=!0;zb.prototype.ca=function(){this.w.da.push((new Da(new y(123,-200))).h(new sa(200,200),0));this.w.da.push((new Da(new y(-200,25))).h(new sa(200,200),0));this.w.da.push((new Da(new y(446,25))).h(new sa(200,200),0));var a="00"==this.Ua?40:"0"==this.Ua.charAt(1)?20:0;this.j(this.u.charAt(0),30,a,8);this.j(this.u.charAt(1),62,a,8);this.j(":",86,a,8);this.j(this.O.charAt(0),110,a,8);this.j(this.O.charAt(1),
142,a,8);this.j(":",166,a,5);this.j(this.Ua.charAt(0),181,a,5);this.j(this.Ua.charAt(1),201,a,5);this.w.ea()};zb.prototype.ec=function(){300<=this.h||(this.h++,this.w.j(!0),this.h++,this.w.j(!0),this.h++,this.w.j(!0),this.h++,this.w.j(!0),this.h++,this.w.j(!0),this.h++,this.w.j(!0),300<=this.h&&this.w.ja())};zb.prototype.ready=function(){return 300<=this.h};zb.prototype.Ic=function(){300<=this.o?(this.w.j(),this.w.j()):(this.w.ca(),this.w.ca());this.o+=2};zb.prototype.position=function(){return this.o/
300};zb.prototype.j=function(a,b,c,d){a=this.V["0123456789:".indexOf(a)];for(var e=0;5>e;){var f=e++;switch(a>>3*f&7){case 1:var g=.5*d,h=.5*d;f=(new Da(new y(b+2*d+g,c+f*d+h))).h(new sa(g,h));f.H.x=.01*Math.random()-.005;f.H.y=.01*Math.random()-.005;this.w.da.push(f);break;case 2:g=.5*d;h=.5*d;f=(new Da(new y(b+d+g,c+f*d+h))).h(new sa(g,h));f.H.x=.01*Math.random()-.005;f.H.y=.01*Math.random()-.005;this.w.da.push(f);break;case 3:g=1*d;h=.5*d;f=(new Da(new y(b+d+g,c+f*d+h))).h(new sa(g,h));f.H.x=.01*
Math.random()-.005;f.H.y=.01*Math.random()-.005;this.w.da.push(f);break;case 4:g=.5*d;h=.5*d;f=(new Da(new y(b+0*d+g,c+f*d+h))).h(new sa(g,h));f.H.x=.01*Math.random()-.005;f.H.y=.01*Math.random()-.005;this.w.da.push(f);break;case 5:g=.5*d;h=.5*d;g=(new Da(new y(b+0*d+g,c+f*d+h))).h(new sa(g,h));g.H.x=.01*Math.random()-.005;g.H.y=.01*Math.random()-.005;this.w.da.push(g);g=.5*d;h=.5*d;f=(new Da(new y(b+2*d+g,c+f*d+h))).h(new sa(g,h));f.H.x=.01*Math.random()-.005;f.H.y=.01*Math.random()-.005;this.w.da.push(f);
break;case 6:g=1*d;h=.5*d;f=(new Da(new y(b+0*d+g,c+f*d+h))).h(new sa(g,h));f.H.x=.01*Math.random()-.005;f.H.y=.01*Math.random()-.005;this.w.da.push(f);break;case 7:g=1.5*d,h=.5*d,f=(new Da(new y(b+0*d+g,c+f*d+h))).h(new sa(g,h)),f.H.x=.01*Math.random()-.005,f.H.y=.01*Math.random()-.005,this.w.da.push(f)}}};zb.I=!0;Math.I=!0;Fa.prototype.o=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=!0);null==b&&(b=he.Jb);this.canvas=a;this.h=new Pb(this,a);switch(b.ma){case 0:this.input=new Z(a,this.h,a,c,d);break;
case 1:this.input=new Z(a,this.h,window.document.documentElement,c,d);break;case 2:this.input=null}this.Ka=-1;this.O();this.h.O()};Fa.prototype.Eb=function(){};Fa.prototype.O=function(){};Fa.prototype.update=function(){};Fa.prototype.Ma=function(){};Fa.I=!0;tj(ua,Fa);ua.prototype.o=function(a,b,c,d){this.bgColor=new Gb(.1,.05,.2);this.V=new Gb(0,0,0);this.alpha=1;this.color=new Gb(0,0,0);this.u=[];this.j=[];Fa.prototype.o.call(this,a,b,c,d)};ua.prototype.O=function(){var a=this.i=new P(this.canvas);
a.Ea=Math.PI/3;a.mb=2;a.ca=.1;a.V=1E4;a.ea.perspective(a.ha(),a.fa/a.O,a.ca,a.V);this.i.oc();this.Ya=this.i.createShader("\n\t\t\tattribute vec4 position;\n\t\t\tattribute vec4 color;\n\t\t\tattribute vec3 normal;\n\n\t\t\tuniform mat4 transform;\n\t\t\tuniform mat4 modelview;\n\t\t\tuniform mat3 normalMatrix;\n\n\t\t\tvarying vec4 vColor;\n\t\t\tvarying vec3 vPosition;\n\t\t\tvarying vec3 vNormal;\n\n\t\t\tvoid main() {\n\t\t\t\tgl_Position = transform * position;\n\n\t\t\t\tvColor = color;\n\t\t\t\tvPosition = (modelview * position).xyz;\n\t\t\t\tvNormal = normalMatrix * normal;\n\t\t\t}\n\t\t",
"\n\t\t\tprecision highp float;\n\t\t\tvarying vec4 vColor;\n\t\t\tvarying vec3 vPosition;\n\t\t\tvarying vec3 vNormal;\n\t\t\tuniform float ambient;\n\t\t\tuniform float diffuse;\n\t\t\tuniform float specular;\n\t\t\tuniform float shininess;\n\t\t\tuniform float emission;\n\t\t\tuniform int numLights;\n\t\t\tuniform vec4 lightPositions[8];\n\t\t\tuniform vec3 lightColors[8];\n\t\t\tuniform vec3 lightNormals[8];\n\t\t\tuniform vec3 bgColor;\n\n\t\t\tvec3 safeNormalize(vec3 v) {\n\t\t\t\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tif (numLights == 0) {\n\t\t\t\t\tgl_FragColor = vColor;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvec3 eye = safeNormalize(vPosition);\n\t\t\t\tvec3 n = safeNormalize(vNormal);\n\t\t\t\t\n\t\t\t\tvec3 color = vColor.xyz;\n\t\t\t\tvec3 ambientTotal = vec3(0);\n\t\t\t\tvec3 diffuseTotal = vec3(0);\n\t\t\t\tvec3 specularTotal = vec3(0);\n\t\t\t\tvec3 emissionTotal = color * emission;\n\n\t\t\t\tif (!gl_FrontFacing) n = -n;\n\n\t\t\t\tfor (int i = 0; i < 8; i++) {\n\t\t\t\t\tif (i == numLights) break;\n\t\t\t\t\tvec4 lp = lightPositions[i];\n\t\t\t\t\tvec3 lc = lightColors[i];\n\t\t\t\t\tvec3 ln = lightNormals[i];\n\t\t\t\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\t\t\t\tbool dir = lp.w == 0.0;\n\t\t\t\t\tif (amb) {\n\t\t\t\t\t\tambientTotal += lc * color * ambient;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!dir) {\n\t\t\t\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfloat ldot = -dot(ln, n);\n\t\t\t\t\t\tif (ldot < 0.0) ldot = 0.0;\n\t\t\t\t\t\tdiffuseTotal += lc * color * ldot * diffuse;\n\t\t\t\t\t\tif (ldot > 0.0) {\n\t\t\t\t\t\t\tvec3 reflEye = eye - 2.0 * n * dot(eye, n);\n\t\t\t\t\t\t\tfloat rdot = -dot(reflEye, ln);\n\t\t\t\t\t\t\tif (rdot < 0.0) rdot = 0.0;\n\t\t\t\t\t\t\tspecularTotal += lc * pow(rdot, shininess) * specular;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvec3 finalColor = ambientTotal + diffuseTotal + specularTotal + emissionTotal;\n\t\t\t\tgl_FragColor = vec4(bgColor + (finalColor - bgColor) * vColor.w, 1);\n\t\t\t}\n\t\t");
this.i.Ya(this.Ya);this.ca();this.h.frameRate(uf.Lb(60));a=(new Date).getTime()%1E3;100>a||900<a?window.setTimeout((ya=this.h,ce(ya,ya.start)),500):this.h.start()};ua.prototype.Eb=function(){this.i.screen(this.h.width,this.h.height)};ua.prototype.ca=function(){for(var a=(new Date).getTime()+2500,b=new zb(a);!b.ready();)b.ec();this.j.push(b);this.u.push(new zb(a+1E3))};ua.prototype.update=function(){for(var a=0,b=this.u;a<b.length;){var c=b[a];++a;c.ready()||c.ec()}2<=this.j[0].position()&&this.j.shift();
59==this.Ka%60&&(this.j.push(this.u.shift()),this.u.push(new zb((new Date).getTime()+3500)));a=2*Math.PI*(new Date).getTime()/1E3/60;b=this.bgColor;c=.1*(.5*Math.cos(a+2*Math.PI/3)+.5);var d=.2*(.5*Math.cos(a)+.5);b.x=.15*(.5*Math.cos(a-2*Math.PI/3)+.5);b.y=c;b.z=d;a=0;for(b=this.j;a<b.length;)b[a++].Ic()};ua.prototype.abs=function(a){return 0>a?-a:a};ua.prototype.Ma=function(){this.Ya.va("bgColor",this.bgColor.x,this.bgColor.y,this.bgColor.z);this.i.screen(this.h.width,this.h.height);var a=this.i;
a.pc();var b=this.i,c=this.bgColor.x,d=this.bgColor.y,e=this.bgColor.z;if(1!=b.Da)throw Error("begin scene before clear scene");b.l.clearColor(c,d,e,1);b.l.clearDepth(1);b.l.clear(16640);e=this.i;if(1!=e.Da)throw Error("begin scene before setting lights");if(8==e.Ba)throw Error("too many lights");b=e.na[e.Ba++];b.r=.2;b.i=.2;b.b=.2;b.ib=0;b.jb=0;b.kb=0;b.dc=0;b.fb=0;b.gb=0;b.hb=0;b=-e.$.g[2];c=-e.$.g[6];d=-e.$.g[10];if(1!=e.Da)throw Error("begin scene before setting lights");if(8==e.Ba)throw Error("too many lights");
e=e.na[e.Ba++];var f=Math.sqrt(b*b+c*c+d*d);0<f&&(f=1/f);e.r=.8;e.i=.8;e.b=.8;e.ib=0;e.jb=0;e.kb=0;e.dc=0;e.fb=b*f;e.gb=c*f;e.hb=d*f;b=this.i;b.tb=!0;b.Ub=184.5;b.Vb=80;b.Wb=150;b.Rb=110.7;b.Sb=0;b.Tb=-75;b.Xb=0;b.Yb=1;b.Zb=0;b.$.bc(b.Ub,b.Vb,b.Wb,b.Rb,b.Sb,b.Tb,b.Xb,b.Yb,b.Zb);this.i.sb(4);b=0;for(c=this.j;b<c.length;){d=c[b];++b;e=d.position()-1;this.V.z=250*e;e=d.position()-1;f=1-(0>e?-e:e);e=Math.pow(f,.75);var g=Math.pow(f,10);f=this.color;if("0"==d.Ua.charAt(1)){var h=this.bgColor,k=.7*e;g=
new Gb(h.x+k+g,h.y+k+g,h.z+k+g)}else h=this.bgColor,k=.7*e,g*=.4,g=new Gb(h.x+k+g,h.y+k+g,h.z+k+g);f.x=g.x;f.y=g.y;f.z=g.z;this.alpha=e;e=0;for(d=d.w.da;e<d.length;)f=d[e],++e,0<f.ia&&this.ea(f)}this.i.ub();a.tc()};ua.prototype.ea=function(a){a=a.shape.type;switch(a.ma){case 0:this.ha(a.c);break;case 1:this.fa(a.b)}};ua.prototype.ha=function(a){for(var b=0;16>b;){var c=b++,d=a.pa+(c-.5)/16*2*Math.PI,e=a.pa+(c+.5)/16*2*Math.PI;c=a.p;var f=a.r,g=Math.sin(d);d=Math.cos(d);var h=a.p,k=a.r,l=Math.sin(e),
m=Math.cos(e);e=h.x+(m+0*-l)*k;h=h.y+(l+0*m)*k;this.i.m(c.x+(d+0*-g)*f,c.y+(g+0*d)*f);this.i.m(e,h)}this.i.m(a.p.x,a.p.y);this.i.m(a.p.x+a.S.W*a.r,a.p.y+a.S.Y*a.r)};ua.prototype.min=function(a,b){return a<b?a:b};ua.prototype.fa=function(a){var b=this.color.x,c=this.color.y,d=this.color.z,e=this.alpha,f=a.S,g=f.W,h=f.Y,k=a.S,l=k.X,m=k.Z,p=a.s.x,w=a.s.y,H=a.s.x,Q=a.s.y,z=H<Q?H:Q,fa=a.p,W=this.V,S=fa.x+W.x,T=fa.y+W.y,U=0+W.z,E=S-g*p-l*w-0*z,I=T-h*p-m*w-0*z,K=U-0*p-0*w-1*z,F=S-g*p-l*w+0*z,J=T-h*p-m*w+
0*z,N=U-0*p-0*w+1*z,G=S-g*p+l*w-0*z,L=T-h*p+m*w-0*z,O=U-0*p+0*w-1*z,M=S-g*p+l*w+0*z,R=T-h*p+m*w+0*z,za=U-0*p+0*w+1*z,aa=S+g*p-l*w-0*z,ka=T+h*p-m*w-0*z,oa=U+0*p-0*w-1*z,ba=S+g*p-l*w+0*z,la=T+h*p-m*w+0*z,Aa=U+0*p-0*w+1*z,ca=S+g*p+l*w-0*z,ma=T+h*p+m*w-0*z,pa=U+0*p+0*w-1*z,da=S+g*p+l*w+0*z,na=T+h*p+m*w+0*z,Ba=U+0*p+0*w+1*z,Gc=-g,Hc=-h,Hb=this.i,ie=e;null==e&&(ie=1);Hb.C=b;Hb.B=c;Hb.A=d;Hb.v=ie;var od=this.i;od.L=Gc;od.M=Hc;od.N=-0;this.i.m(E,I,K);this.i.m(F,J,N);this.i.m(M,R,za);this.i.m(G,L,O);var Ic=
this.i,Xa=Ic.F,vf=Ic.G-4;if(Xa.length==Xa.g.length){for(var je=Xa.g.length,ke=new Int32Array(je<<1),le=0;le<je;){var me=le++;ke[me]=Xa.g[me]}Xa.g=ke}Xa.g[Xa.length++]=vf;Xa.D=!0;var Ya=Ic.F,wf=Ic.G-2;if(Ya.length==Ya.g.length){for(var ne=Ya.g.length,oe=new Int32Array(ne<<1),pe=0;pe<ne;){var qe=pe++;oe[qe]=Ya.g[qe]}Ya.g=oe}Ya.g[Ya.length++]=wf;Ya.D=!0;var pd=1-I/30,qd=.6*e*(0>pd?0:1<pd?1:pd),rd=1-J/30,sd=.6*e*(0>rd?0:1<rd?1:rd),va=1-R/30,Rb=.6*e*(0>va?0:1<va?1:va),ha=1-L/30,Sb=.6*e*(0>ha?0:1<ha?1:
ha);if(0<qd||0<sd||0<Rb||0<Sb){var Oa=this.i;Oa.L=Gc;Oa.M=-Hc;Oa.N=-0;var Ga=this.i,Za=Sb;null==Sb&&(Za=1);Ga.C=b;Ga.B=c;Ga.A=d;Ga.v=Za;this.i.m(G,-L,O);var Ha=this.i,re=Rb;null==Rb&&(re=1);Ha.C=b;Ha.B=c;Ha.A=d;Ha.v=re;this.i.m(M,-R,za);var Jc=this.i,se=sd;null==sd&&(se=1);Jc.C=b;Jc.B=c;Jc.A=d;Jc.v=se;this.i.m(F,-J,N);var Kc=this.i,te=qd;null==qd&&(te=1);Kc.C=b;Kc.B=c;Kc.A=d;Kc.v=te;this.i.m(E,-I,K);var Lc=this.i,$a=Lc.F,xf=Lc.G-4;if($a.length==$a.g.length){for(var ue=$a.g.length,ab=new Int32Array(ue<<
1),bb=0;bb<ue;){var cb=bb++;ab[cb]=$a.g[cb]}$a.g=ab}$a.g[$a.length++]=xf;$a.D=!0;var db=Lc.F,yf=Lc.G-2;if(db.length==db.g.length){for(var ve=db.g.length,we=new Int32Array(ve<<1),xe=0;xe<ve;){var ye=xe++;we[ye]=db.g[ye]}db.g=we}db.g[db.length++]=yf;db.D=!0}var td=1-E/30,ud=.6*e*(0>td?0:1<td?1:td),vd=1-F/30,Pa=.6*e*(0>vd?0:1<vd?1:vd),Qa=1-M/30,Ra=.6*e*(0>Qa?0:1<Qa?1:Qa),wd=1-G/30,xd=.6*e*(0>wd?0:1<wd?1:wd);if(0<ud||0<Pa||0<Ra||0<xd){var yd=this.i;yd.L=-Gc;yd.M=Hc;yd.N=-0;var Mc=this.i,ze=xd;null==xd&&
(ze=1);Mc.C=b;Mc.B=c;Mc.A=d;Mc.v=ze;this.i.m(-G,L,O);var Nc=this.i,Ae=Ra;null==Ra&&(Ae=1);Nc.C=b;Nc.B=c;Nc.A=d;Nc.v=Ae;this.i.m(-M,R,za);var Oc=this.i,Be=Pa;null==Pa&&(Be=1);Oc.C=b;Oc.B=c;Oc.A=d;Oc.v=Be;this.i.m(-F,J,N);var Ia=this.i,eb=ud;null==ud&&(eb=1);Ia.C=b;Ia.B=c;Ia.A=d;Ia.v=eb;this.i.m(-E,I,K);var Ja=this.i,fb=Ja.F,zf=Ja.G-4;if(fb.length==fb.g.length){for(var Ce=fb.g.length,De=new Int32Array(Ce<<1),Ee=0;Ee<Ce;){var Fe=Ee++;De[Fe]=fb.g[Fe]}fb.g=De}fb.g[fb.length++]=zf;fb.D=!0;var gb=Ja.F,Af=
Ja.G-2;if(gb.length==gb.g.length){for(var Ge=gb.g.length,He=new Int32Array(Ge<<1),Pc=0;Pc<Ge;){var Qc=Pc++;He[Qc]=gb.g[Qc]}gb.g=He}gb.g[gb.length++]=Af;gb.D=!0}var ia=1-(246-E)/30,Tb=.6*e*(0>ia?0:1<ia?1:ia),Sa=1-(246-F)/30,Ta=.6*e*(0>Sa?0:1<Sa?1:Sa),Ua=1-(246-M)/30,Va=.6*e*(0>Ua?0:1<Ua?1:Ua),zd=1-(246-G)/30,Ad=.6*e*(0>zd?0:1<zd?1:zd);if(0<Tb||0<Ta||0<Va||0<Ad){var Bd=this.i;Bd.L=-Gc;Bd.M=Hc;Bd.N=-0;var Rc=this.i,Ie=Ad;null==Ad&&(Ie=1);Rc.C=b;Rc.B=c;Rc.A=d;Rc.v=Ie;this.i.m(492-G,L,O);var Sc=this.i,
Je=Va;null==Va&&(Je=1);Sc.C=b;Sc.B=c;Sc.A=d;Sc.v=Je;this.i.m(492-M,R,za);var Tc=this.i,Ke=Ta;null==Ta&&(Ke=1);Tc.C=b;Tc.B=c;Tc.A=d;Tc.v=Ke;this.i.m(492-F,J,N);var Ka=this.i,hb=Tb;null==Tb&&(hb=1);Ka.C=b;Ka.B=c;Ka.A=d;Ka.v=hb;this.i.m(492-E,I,K);var La=this.i,ib=La.F,Bf=La.G-4;if(ib.length==ib.g.length){for(var Le=ib.g.length,Me=new Int32Array(Le<<1),Ne=0;Ne<Le;){var Oe=Ne++;Me[Oe]=ib.g[Oe]}ib.g=Me}ib.g[ib.length++]=Bf;ib.D=!0;var jb=La.F,Cf=La.G-2;if(jb.length==jb.g.length){for(var Pe=jb.g.length,
kb=new Int32Array(Pe<<1),lb=0;lb<Pe;){var mb=lb++;kb[mb]=jb.g[mb]}jb.g=kb}jb.g[jb.length++]=Cf;jb.D=!0}var Uc=this.i,Qe=e;null==e&&(Qe=1);Uc.C=b;Uc.B=c;Uc.A=d;Uc.v=Qe;var Cd=this.i;Cd.L=g;Cd.M=h;Cd.N=0;this.i.m(aa,ka,oa);this.i.m(ca,ma,pa);this.i.m(da,na,Ba);this.i.m(ba,la,Aa);var Vc=this.i,nb=Vc.F,Df=Vc.G-4;if(nb.length==nb.g.length){for(var Re=nb.g.length,Se=new Int32Array(Re<<1),Te=0;Te<Re;){var ob=Te++;Se[ob]=nb.g[ob]}nb.g=Se}nb.g[nb.length++]=Df;nb.D=!0;var qa=Vc.F,Ab=Vc.G-2;if(qa.length==qa.g.length){for(var Ue=
qa.g.length,Ve=new Int32Array(Ue<<1),We=0;We<Ue;){var Xe=We++;Ve[Xe]=qa.g[Xe]}qa.g=Ve}qa.g[qa.length++]=Ab;qa.D=!0;var Dd=1-ka/30,Ed=.6*e*(0>Dd?0:1<Dd?1:Dd),Fd=1-ma/30,Gd=.6*e*(0>Fd?0:1<Fd?1:Fd),Hd=1-na/30,Id=.6*e*(0>Hd?0:1<Hd?1:Hd),Ub=1-la/30,Ca=.6*e*(0>Ub?0:1<Ub?1:Ub);if(0<Ed||0<Gd||0<Id||0<Ca){var Wa=this.i;Wa.L=g;Wa.M=-h;Wa.N=0;var Ib=this.i,pb=Ca;null==Ca&&(pb=1);Ib.C=b;Ib.B=c;Ib.A=d;Ib.v=pb;this.i.m(ba,-la,Aa);var Jb=this.i,Bb=Id;null==Id&&(Bb=1);Jb.C=b;Jb.B=c;Jb.A=d;Jb.v=Bb;this.i.m(da,-na,
Ba);var Cb=this.i,Ye=Gd;null==Gd&&(Ye=1);Cb.C=b;Cb.B=c;Cb.A=d;Cb.v=Ye;this.i.m(ca,-ma,pa);var Wc=this.i,Ze=Ed;null==Ed&&(Ze=1);Wc.C=b;Wc.B=c;Wc.A=d;Wc.v=Ze;this.i.m(aa,-ka,oa);var Xc=this.i,qb=Xc.F,Ef=Xc.G-4;if(qb.length==qb.g.length){for(var $e=qb.g.length,af=new Int32Array($e<<1),bf=0;bf<$e;){var X=bf++;af[X]=qb.g[X]}qb.g=af}qb.g[qb.length++]=Ef;qb.D=!0;var V=Xc.F,Jd=Xc.G-2;if(V.length==V.g.length){for(var Yc=V.g.length,cf=new Int32Array(Yc<<1),Zc=0;Zc<Yc;){var $c=Zc++;cf[$c]=V.g[$c]}V.g=cf}V.g[V.length++]=
Jd;V.D=!0}var Vb=1-aa/30,ad=.6*e*(0>Vb?0:1<Vb?1:Vb),Kd=1-ca/30,Wb=.6*e*(0>Kd?0:1<Kd?1:Kd),bd=1-da/30,Ld=.6*e*(0>bd?0:1<bd?1:bd),Xb=1-ba/30,Yb=.6*e*(0>Xb?0:1<Xb?1:Xb);if(0<ad||0<Wb||0<Ld||0<Yb){var Zb=this.i;Zb.L=-g;Zb.M=h;Zb.N=0;var Md=this.i,Ff=Yb;null==Yb&&(Ff=1);Md.C=b;Md.B=c;Md.A=d;Md.v=Ff;this.i.m(-ba,la,Aa);var cd=this.i,Gf=Ld;null==Ld&&(Gf=1);cd.C=b;cd.B=c;cd.A=d;cd.v=Gf;this.i.m(-da,na,Ba);var Nd=this.i,df=Wb;null==Wb&&(df=1);Nd.C=b;Nd.B=c;Nd.A=d;Nd.v=df;this.i.m(-ca,ma,pa);var dd=this.i,
ef=ad;null==ad&&(ef=1);dd.C=b;dd.B=c;dd.A=d;dd.v=ef;this.i.m(-aa,ka,oa);var Kb=this.i,Db=Kb.F,hh=Kb.G-4;if(Db.length==Db.g.length){for(var ff=Db.g.length,Hf=new Int32Array(ff<<1),If=0;If<ff;){var gf=If++;Hf[gf]=Db.g[gf]}Db.g=Hf}Db.g[Db.length++]=hh;Db.D=!0;var rb=Kb.F,Jf=Kb.G-2;if(rb.length==rb.g.length){for(var Ea=rb.g.length,sb=new Int32Array(Ea<<1),ed=0;ed<Ea;){var tb=ed++;sb[tb]=rb.g[tb]}rb.g=sb}rb.g[rb.length++]=Jf;rb.D=!0}var $b=1-(246-aa)/30,ub=.6*e*(0>$b?0:1<$b?1:$b),Lb=1-(246-ca)/30,Od=.6*
e*(0>Lb?0:1<Lb?1:Lb),Pd=1-(246-da)/30,Qd=.6*e*(0>Pd?0:1<Pd?1:Pd),Rd=1-(246-ba)/30,Sd=.6*e*(0>Rd?0:1<Rd?1:Rd);if(0<ub||0<Od||0<Qd||0<Sd){var Td=this.i;Td.L=-g;Td.M=h;Td.N=0;var fd=this.i,hf=Sd;null==Sd&&(hf=1);fd.C=b;fd.B=c;fd.A=d;fd.v=hf;this.i.m(492-ba,la,Aa);var gd=this.i,Y=Qd;null==Qd&&(Y=1);gd.C=b;gd.B=c;gd.A=d;gd.v=Y;this.i.m(492-da,na,Ba);var ea=this.i,hd=Od;null==Od&&(hd=1);ea.C=b;ea.B=c;ea.A=d;ea.v=hd;this.i.m(492-ca,ma,pa);var Mb=this.i,jf=ub;null==ub&&(jf=1);Mb.C=b;Mb.B=c;Mb.A=d;Mb.v=jf;
this.i.m(492-aa,ka,oa);var Nb=this.i,Ma=Nb.F,Ud=Nb.G-4;if(Ma.length==Ma.g.length){for(var Vd=Ma.g.length,kf=new Int32Array(Vd<<1),id=0;id<Vd;){var Wd=id++;kf[Wd]=Ma.g[Wd]}Ma.g=kf}Ma.g[Ma.length++]=Ud;Ma.D=!0;var vb=Nb.F,Xd=Nb.G-2;if(vb.length==vb.g.length){for(var jd=vb.g.length,kd=new Int32Array(jd<<1),Kf=0;Kf<jd;){var Lf=Kf++;kd[Lf]=vb.g[Lf]}vb.g=kd}vb.g[vb.length++]=Xd;vb.D=!0}var ld=-l,Yd=-m,Zd=this.i,lf=e;null==e&&(lf=1);Zd.C=b;Zd.B=c;Zd.A=d;Zd.v=lf;var $d=this.i;$d.L=ld;$d.M=Yd;$d.N=-0;this.i.m(E,
I,K);this.i.m(aa,ka,oa);this.i.m(ba,la,Aa);this.i.m(F,J,N);var md=this.i,Na=md.F,ih=md.G-4;if(Na.length==Na.g.length){for(var Mf=Na.g.length,mf=new Int32Array(Mf<<1),Nf=0;Nf<Mf;){var Of=Nf++;mf[Of]=Na.g[Of]}Na.g=mf}Na.g[Na.length++]=ih;Na.D=!0;var wb=md.F,Pf=md.G-2;if(wb.length==wb.g.length){for(var nf=wb.g.length,vj=new Int32Array(nf<<1),wj=0;wj<nf;){var xj=wj++;vj[xj]=wb.g[xj]}wb.g=vj}wb.g[wb.length++]=Pf;wb.D=!0;var jh=1-I/30,kh=.6*e*(0>jh?0:1<jh?1:jh),lh=1-ka/30,mh=.6*e*(0>lh?0:1<lh?1:lh),nh=
1-la/30,oh=.6*e*(0>nh?0:1<nh?1:nh),ph=1-J/30,qh=.6*e*(0>ph?0:1<ph?1:ph);if(0<kh||0<mh||0<oh||0<qh){var rh=this.i;rh.L=ld;rh.M=-Yd;rh.N=-0;var Qf=this.i,yj=qh;null==qh&&(yj=1);Qf.C=b;Qf.B=c;Qf.A=d;Qf.v=yj;this.i.m(F,-J,N);var Rf=this.i,zj=oh;null==oh&&(zj=1);Rf.C=b;Rf.B=c;Rf.A=d;Rf.v=zj;this.i.m(ba,-la,Aa);var Sf=this.i,Aj=mh;null==mh&&(Aj=1);Sf.C=b;Sf.B=c;Sf.A=d;Sf.v=Aj;this.i.m(aa,-ka,oa);var Tf=this.i,Bj=kh;null==kh&&(Bj=1);Tf.C=b;Tf.B=c;Tf.A=d;Tf.v=Bj;this.i.m(E,-I,K);var Uf=this.i,ac=Uf.F,Om=
Uf.G-4;if(ac.length==ac.g.length){for(var Cj=ac.g.length,Dj=new Int32Array(Cj<<1),Ej=0;Ej<Cj;){var Fj=Ej++;Dj[Fj]=ac.g[Fj]}ac.g=Dj}ac.g[ac.length++]=Om;ac.D=!0;var bc=Uf.F,Pm=Uf.G-2;if(bc.length==bc.g.length){for(var Gj=bc.g.length,Hj=new Int32Array(Gj<<1),Ij=0;Ij<Gj;){var Jj=Ij++;Hj[Jj]=bc.g[Jj]}bc.g=Hj}bc.g[bc.length++]=Pm;bc.D=!0}var sh=1-E/30,th=.6*e*(0>sh?0:1<sh?1:sh),uh=1-aa/30,vh=.6*e*(0>uh?0:1<uh?1:uh),wh=1-ba/30,xh=.6*e*(0>wh?0:1<wh?1:wh),yh=1-F/30,zh=.6*e*(0>yh?0:1<yh?1:yh);if(0<th||0<vh||
0<xh||0<zh){var Ah=this.i;Ah.L=-ld;Ah.M=Yd;Ah.N=-0;var Vf=this.i,Kj=zh;null==zh&&(Kj=1);Vf.C=b;Vf.B=c;Vf.A=d;Vf.v=Kj;this.i.m(-F,J,N);var Wf=this.i,Lj=xh;null==xh&&(Lj=1);Wf.C=b;Wf.B=c;Wf.A=d;Wf.v=Lj;this.i.m(-ba,la,Aa);var Xf=this.i,Mj=vh;null==vh&&(Mj=1);Xf.C=b;Xf.B=c;Xf.A=d;Xf.v=Mj;this.i.m(-aa,ka,oa);var Yf=this.i,Nj=th;null==th&&(Nj=1);Yf.C=b;Yf.B=c;Yf.A=d;Yf.v=Nj;this.i.m(-E,I,K);var Zf=this.i,cc=Zf.F,Qm=Zf.G-4;if(cc.length==cc.g.length){for(var Oj=cc.g.length,Pj=new Int32Array(Oj<<1),Qj=0;Qj<
Oj;){var Rj=Qj++;Pj[Rj]=cc.g[Rj]}cc.g=Pj}cc.g[cc.length++]=Qm;cc.D=!0;var dc=Zf.F,Rm=Zf.G-2;if(dc.length==dc.g.length){for(var Sj=dc.g.length,Tj=new Int32Array(Sj<<1),Uj=0;Uj<Sj;){var Vj=Uj++;Tj[Vj]=dc.g[Vj]}dc.g=Tj}dc.g[dc.length++]=Rm;dc.D=!0}var Bh=1-(246-E)/30,Ch=.6*e*(0>Bh?0:1<Bh?1:Bh),Dh=1-(246-aa)/30,Eh=.6*e*(0>Dh?0:1<Dh?1:Dh),Fh=1-(246-ba)/30,Gh=.6*e*(0>Fh?0:1<Fh?1:Fh),Hh=1-(246-F)/30,Ih=.6*e*(0>Hh?0:1<Hh?1:Hh);if(0<Ch||0<Eh||0<Gh||0<Ih){var Jh=this.i;Jh.L=-ld;Jh.M=Yd;Jh.N=-0;var $f=this.i,
Wj=Ih;null==Ih&&(Wj=1);$f.C=b;$f.B=c;$f.A=d;$f.v=Wj;this.i.m(492-F,J,N);var ag=this.i,Xj=Gh;null==Gh&&(Xj=1);ag.C=b;ag.B=c;ag.A=d;ag.v=Xj;this.i.m(492-ba,la,Aa);var bg=this.i,Yj=Eh;null==Eh&&(Yj=1);bg.C=b;bg.B=c;bg.A=d;bg.v=Yj;this.i.m(492-aa,ka,oa);var cg=this.i,Zj=Ch;null==Ch&&(Zj=1);cg.C=b;cg.B=c;cg.A=d;cg.v=Zj;this.i.m(492-E,I,K);var dg=this.i,ec=dg.F,Sm=dg.G-4;if(ec.length==ec.g.length){for(var ak=ec.g.length,bk=new Int32Array(ak<<1),ck=0;ck<ak;){var dk=ck++;bk[dk]=ec.g[dk]}ec.g=bk}ec.g[ec.length++]=
Sm;ec.D=!0;var fc=dg.F,Tm=dg.G-2;if(fc.length==fc.g.length){for(var ek=fc.g.length,fk=new Int32Array(ek<<1),gk=0;gk<ek;){var hk=gk++;fk[hk]=fc.g[hk]}fc.g=fk}fc.g[fc.length++]=Tm;fc.D=!0}var eg=this.i,ik=e;null==e&&(ik=1);eg.C=b;eg.B=c;eg.A=d;eg.v=ik;var Kh=this.i;Kh.L=l;Kh.M=m;Kh.N=0;this.i.m(G,L,O);this.i.m(M,R,za);this.i.m(da,na,Ba);this.i.m(ca,ma,pa);var fg=this.i,gc=fg.F,Um=fg.G-4;if(gc.length==gc.g.length){for(var jk=gc.g.length,kk=new Int32Array(jk<<1),lk=0;lk<jk;){var mk=lk++;kk[mk]=gc.g[mk]}gc.g=
kk}gc.g[gc.length++]=Um;gc.D=!0;var hc=fg.F,Vm=fg.G-2;if(hc.length==hc.g.length){for(var nk=hc.g.length,ok=new Int32Array(nk<<1),pk=0;pk<nk;){var qk=pk++;ok[qk]=hc.g[qk]}hc.g=ok}hc.g[hc.length++]=Vm;hc.D=!0;var Lh=1-L/30,Mh=.6*e*(0>Lh?0:1<Lh?1:Lh),Nh=1-R/30,Oh=.6*e*(0>Nh?0:1<Nh?1:Nh),Ph=1-na/30,Qh=.6*e*(0>Ph?0:1<Ph?1:Ph),Rh=1-ma/30,Sh=.6*e*(0>Rh?0:1<Rh?1:Rh);if(0<Mh||0<Oh||0<Qh||0<Sh){var Th=this.i;Th.L=l;Th.M=-m;Th.N=0;var gg=this.i,rk=Sh;null==Sh&&(rk=1);gg.C=b;gg.B=c;gg.A=d;gg.v=rk;this.i.m(ca,
-ma,pa);var hg=this.i,sk=Qh;null==Qh&&(sk=1);hg.C=b;hg.B=c;hg.A=d;hg.v=sk;this.i.m(da,-na,Ba);var ig=this.i,tk=Oh;null==Oh&&(tk=1);ig.C=b;ig.B=c;ig.A=d;ig.v=tk;this.i.m(M,-R,za);var jg=this.i,uk=Mh;null==Mh&&(uk=1);jg.C=b;jg.B=c;jg.A=d;jg.v=uk;this.i.m(G,-L,O);var kg=this.i,ic=kg.F,Wm=kg.G-4;if(ic.length==ic.g.length){for(var vk=ic.g.length,wk=new Int32Array(vk<<1),xk=0;xk<vk;){var yk=xk++;wk[yk]=ic.g[yk]}ic.g=wk}ic.g[ic.length++]=Wm;ic.D=!0;var jc=kg.F,Xm=kg.G-2;if(jc.length==jc.g.length){for(var zk=
jc.g.length,Ak=new Int32Array(zk<<1),Bk=0;Bk<zk;){var Ck=Bk++;Ak[Ck]=jc.g[Ck]}jc.g=Ak}jc.g[jc.length++]=Xm;jc.D=!0}var Uh=1-G/30,Vh=.6*e*(0>Uh?0:1<Uh?1:Uh),Wh=1-M/30,Xh=.6*e*(0>Wh?0:1<Wh?1:Wh),Yh=1-da/30,Zh=.6*e*(0>Yh?0:1<Yh?1:Yh),$h=1-ca/30,ai=.6*e*(0>$h?0:1<$h?1:$h);if(0<Vh||0<Xh||0<Zh||0<ai){var bi=this.i;bi.L=-l;bi.M=m;bi.N=0;var lg=this.i,Dk=ai;null==ai&&(Dk=1);lg.C=b;lg.B=c;lg.A=d;lg.v=Dk;this.i.m(-ca,ma,pa);var mg=this.i,Ek=Zh;null==Zh&&(Ek=1);mg.C=b;mg.B=c;mg.A=d;mg.v=Ek;this.i.m(-da,na,Ba);
var ng=this.i,Fk=Xh;null==Xh&&(Fk=1);ng.C=b;ng.B=c;ng.A=d;ng.v=Fk;this.i.m(-M,R,za);var og=this.i,Gk=Vh;null==Vh&&(Gk=1);og.C=b;og.B=c;og.A=d;og.v=Gk;this.i.m(-G,L,O);var pg=this.i,kc=pg.F,Ym=pg.G-4;if(kc.length==kc.g.length){for(var Hk=kc.g.length,Ik=new Int32Array(Hk<<1),Jk=0;Jk<Hk;){var Kk=Jk++;Ik[Kk]=kc.g[Kk]}kc.g=Ik}kc.g[kc.length++]=Ym;kc.D=!0;var lc=pg.F,Zm=pg.G-2;if(lc.length==lc.g.length){for(var Lk=lc.g.length,Mk=new Int32Array(Lk<<1),Nk=0;Nk<Lk;){var Ok=Nk++;Mk[Ok]=lc.g[Ok]}lc.g=Mk}lc.g[lc.length++]=
Zm;lc.D=!0}var ci=1-(246-G)/30,di=.6*e*(0>ci?0:1<ci?1:ci),ei=1-(246-M)/30,fi=.6*e*(0>ei?0:1<ei?1:ei),gi=1-(246-da)/30,hi=.6*e*(0>gi?0:1<gi?1:gi),ii=1-(246-ca)/30,ji=.6*e*(0>ii?0:1<ii?1:ii);if(0<di||0<fi||0<hi||0<ji){var ki=this.i;ki.L=-l;ki.M=m;ki.N=0;var qg=this.i,Pk=ji;null==ji&&(Pk=1);qg.C=b;qg.B=c;qg.A=d;qg.v=Pk;this.i.m(492-ca,ma,pa);var rg=this.i,Qk=hi;null==hi&&(Qk=1);rg.C=b;rg.B=c;rg.A=d;rg.v=Qk;this.i.m(492-da,na,Ba);var sg=this.i,Rk=fi;null==fi&&(Rk=1);sg.C=b;sg.B=c;sg.A=d;sg.v=Rk;this.i.m(492-
M,R,za);var tg=this.i,Sk=di;null==di&&(Sk=1);tg.C=b;tg.B=c;tg.A=d;tg.v=Sk;this.i.m(492-G,L,O);var ug=this.i,mc=ug.F,$m=ug.G-4;if(mc.length==mc.g.length){for(var Tk=mc.g.length,Uk=new Int32Array(Tk<<1),Vk=0;Vk<Tk;){var Wk=Vk++;Uk[Wk]=mc.g[Wk]}mc.g=Uk}mc.g[mc.length++]=$m;mc.D=!0;var nc=ug.F,an=ug.G-2;if(nc.length==nc.g.length){for(var Xk=nc.g.length,Yk=new Int32Array(Xk<<1),Zk=0;Zk<Xk;){var $k=Zk++;Yk[$k]=nc.g[$k]}nc.g=Yk}nc.g[nc.length++]=an;nc.D=!0}var vg=this.i,al=e;null==e&&(al=1);vg.C=b;vg.B=
c;vg.A=d;vg.v=al;var li=this.i;li.L=-0;li.M=-0;li.N=-1;this.i.m(E,I,K);this.i.m(G,L,O);this.i.m(ca,ma,pa);this.i.m(aa,ka,oa);var wg=this.i,oc=wg.F,bn=wg.G-4;if(oc.length==oc.g.length){for(var bl=oc.g.length,cl=new Int32Array(bl<<1),dl=0;dl<bl;){var el=dl++;cl[el]=oc.g[el]}oc.g=cl}oc.g[oc.length++]=bn;oc.D=!0;var pc=wg.F,cn=wg.G-2;if(pc.length==pc.g.length){for(var fl=pc.g.length,gl=new Int32Array(fl<<1),hl=0;hl<fl;){var il=hl++;gl[il]=pc.g[il]}pc.g=gl}pc.g[pc.length++]=cn;pc.D=!0;var mi=1-I/30,ni=
.6*e*(0>mi?0:1<mi?1:mi),oi=1-L/30,pi=.6*e*(0>oi?0:1<oi?1:oi),qi=1-ma/30,ri=.6*e*(0>qi?0:1<qi?1:qi),si=1-ka/30,ti=.6*e*(0>si?0:1<si?1:si);if(0<ni||0<pi||0<ri||0<ti){var ui=this.i;ui.L=-0;ui.M=0;ui.N=-1;var xg=this.i,jl=ti;null==ti&&(jl=1);xg.C=b;xg.B=c;xg.A=d;xg.v=jl;this.i.m(aa,-ka,oa);var yg=this.i,kl=ri;null==ri&&(kl=1);yg.C=b;yg.B=c;yg.A=d;yg.v=kl;this.i.m(ca,-ma,pa);var zg=this.i,ll=pi;null==pi&&(ll=1);zg.C=b;zg.B=c;zg.A=d;zg.v=ll;this.i.m(G,-L,O);var Ag=this.i,ml=ni;null==ni&&(ml=1);Ag.C=b;Ag.B=
c;Ag.A=d;Ag.v=ml;this.i.m(E,-I,K);var Bg=this.i,qc=Bg.F,dn=Bg.G-4;if(qc.length==qc.g.length){for(var nl=qc.g.length,ol=new Int32Array(nl<<1),pl=0;pl<nl;){var ql=pl++;ol[ql]=qc.g[ql]}qc.g=ol}qc.g[qc.length++]=dn;qc.D=!0;var rc=Bg.F,en=Bg.G-2;if(rc.length==rc.g.length){for(var rl=rc.g.length,sl=new Int32Array(rl<<1),tl=0;tl<rl;){var ul=tl++;sl[ul]=rc.g[ul]}rc.g=sl}rc.g[rc.length++]=en;rc.D=!0}var vi=1-E/30,wi=.6*e*(0>vi?0:1<vi?1:vi),xi=1-G/30,yi=.6*e*(0>xi?0:1<xi?1:xi),zi=1-ca/30,Ai=.6*e*(0>zi?0:1<
zi?1:zi),Bi=1-aa/30,Ci=.6*e*(0>Bi?0:1<Bi?1:Bi);if(0<wi||0<yi||0<Ai||0<Ci){var Di=this.i;Di.L=0;Di.M=-0;Di.N=-1;var Cg=this.i,vl=Ci;null==Ci&&(vl=1);Cg.C=b;Cg.B=c;Cg.A=d;Cg.v=vl;this.i.m(-aa,ka,oa);var Dg=this.i,wl=Ai;null==Ai&&(wl=1);Dg.C=b;Dg.B=c;Dg.A=d;Dg.v=wl;this.i.m(-ca,ma,pa);var Eg=this.i,xl=yi;null==yi&&(xl=1);Eg.C=b;Eg.B=c;Eg.A=d;Eg.v=xl;this.i.m(-G,L,O);var Fg=this.i,yl=wi;null==wi&&(yl=1);Fg.C=b;Fg.B=c;Fg.A=d;Fg.v=yl;this.i.m(-E,I,K);var Gg=this.i,sc=Gg.F,fn=Gg.G-4;if(sc.length==sc.g.length){for(var zl=
sc.g.length,Al=new Int32Array(zl<<1),Bl=0;Bl<zl;){var Cl=Bl++;Al[Cl]=sc.g[Cl]}sc.g=Al}sc.g[sc.length++]=fn;sc.D=!0;var tc=Gg.F,gn=Gg.G-2;if(tc.length==tc.g.length){for(var Dl=tc.g.length,El=new Int32Array(Dl<<1),Fl=0;Fl<Dl;){var Gl=Fl++;El[Gl]=tc.g[Gl]}tc.g=El}tc.g[tc.length++]=gn;tc.D=!0}var Ei=1-(246-E)/30,Fi=.6*e*(0>Ei?0:1<Ei?1:Ei),Gi=1-(246-G)/30,Hi=.6*e*(0>Gi?0:1<Gi?1:Gi),Ii=1-(246-ca)/30,Ji=.6*e*(0>Ii?0:1<Ii?1:Ii),Ki=1-(246-aa)/30,Li=.6*e*(0>Ki?0:1<Ki?1:Ki);if(0<Fi||0<Hi||0<Ji||0<Li){var Mi=
this.i;Mi.L=0;Mi.M=-0;Mi.N=-1;var Hg=this.i,Hl=Li;null==Li&&(Hl=1);Hg.C=b;Hg.B=c;Hg.A=d;Hg.v=Hl;this.i.m(492-aa,ka,oa);var Ig=this.i,Il=Ji;null==Ji&&(Il=1);Ig.C=b;Ig.B=c;Ig.A=d;Ig.v=Il;this.i.m(492-ca,ma,pa);var Jg=this.i,Jl=Hi;null==Hi&&(Jl=1);Jg.C=b;Jg.B=c;Jg.A=d;Jg.v=Jl;this.i.m(492-G,L,O);var Kg=this.i,Kl=Fi;null==Fi&&(Kl=1);Kg.C=b;Kg.B=c;Kg.A=d;Kg.v=Kl;this.i.m(492-E,I,K);var Lg=this.i,uc=Lg.F,hn=Lg.G-4;if(uc.length==uc.g.length){for(var Ll=uc.g.length,Ml=new Int32Array(Ll<<1),Nl=0;Nl<Ll;){var Ol=
Nl++;Ml[Ol]=uc.g[Ol]}uc.g=Ml}uc.g[uc.length++]=hn;uc.D=!0;var vc=Lg.F,jn=Lg.G-2;if(vc.length==vc.g.length){for(var Pl=vc.g.length,Ql=new Int32Array(Pl<<1),Rl=0;Rl<Pl;){var Sl=Rl++;Ql[Sl]=vc.g[Sl]}vc.g=Ql}vc.g[vc.length++]=jn;vc.D=!0}var Mg=this.i,Tl=e;null==e&&(Tl=1);Mg.C=b;Mg.B=c;Mg.A=d;Mg.v=Tl;var Ni=this.i;Ni.L=0;Ni.M=0;Ni.N=1;this.i.m(F,J,N);this.i.m(ba,la,Aa);this.i.m(da,na,Ba);this.i.m(M,R,za);var Ng=this.i,wc=Ng.F,kn=Ng.G-4;if(wc.length==wc.g.length){for(var Ul=wc.g.length,Vl=new Int32Array(Ul<<
1),Wl=0;Wl<Ul;){var Xl=Wl++;Vl[Xl]=wc.g[Xl]}wc.g=Vl}wc.g[wc.length++]=kn;wc.D=!0;var xc=Ng.F,ln=Ng.G-2;if(xc.length==xc.g.length){for(var Yl=xc.g.length,Zl=new Int32Array(Yl<<1),$l=0;$l<Yl;){var am=$l++;Zl[am]=xc.g[am]}xc.g=Zl}xc.g[xc.length++]=ln;xc.D=!0;var Oi=1-J/30,Pi=.6*e*(0>Oi?0:1<Oi?1:Oi),Qi=1-la/30,Ri=.6*e*(0>Qi?0:1<Qi?1:Qi),Si=1-na/30,Ti=.6*e*(0>Si?0:1<Si?1:Si),Ui=1-R/30,Vi=.6*e*(0>Ui?0:1<Ui?1:Ui);if(0<Pi||0<Ri||0<Ti||0<Vi){var Wi=this.i;Wi.L=0;Wi.M=-0;Wi.N=1;var Og=this.i,bm=Vi;null==Vi&&
(bm=1);Og.C=b;Og.B=c;Og.A=d;Og.v=bm;this.i.m(M,-R,za);var Pg=this.i,cm=Ti;null==Ti&&(cm=1);Pg.C=b;Pg.B=c;Pg.A=d;Pg.v=cm;this.i.m(da,-na,Ba);var Qg=this.i,dm=Ri;null==Ri&&(dm=1);Qg.C=b;Qg.B=c;Qg.A=d;Qg.v=dm;this.i.m(ba,-la,Aa);var Rg=this.i,em=Pi;null==Pi&&(em=1);Rg.C=b;Rg.B=c;Rg.A=d;Rg.v=em;this.i.m(F,-J,N);var Sg=this.i,yc=Sg.F,mn=Sg.G-4;if(yc.length==yc.g.length){for(var fm=yc.g.length,gm=new Int32Array(fm<<1),hm=0;hm<fm;){var im=hm++;gm[im]=yc.g[im]}yc.g=gm}yc.g[yc.length++]=mn;yc.D=!0;var zc=
Sg.F,nn=Sg.G-2;if(zc.length==zc.g.length){for(var jm=zc.g.length,km=new Int32Array(jm<<1),lm=0;lm<jm;){var mm=lm++;km[mm]=zc.g[mm]}zc.g=km}zc.g[zc.length++]=nn;zc.D=!0}var Xi=1-F/30,Yi=.6*e*(0>Xi?0:1<Xi?1:Xi),Zi=1-ba/30,$i=.6*e*(0>Zi?0:1<Zi?1:Zi),aj=1-da/30,bj=.6*e*(0>aj?0:1<aj?1:aj),cj=1-M/30,dj=.6*e*(0>cj?0:1<cj?1:cj);if(0<Yi||0<$i||0<bj||0<dj){var ej=this.i;ej.L=-0;ej.M=0;ej.N=1;var Tg=this.i,nm=dj;null==dj&&(nm=1);Tg.C=b;Tg.B=c;Tg.A=d;Tg.v=nm;this.i.m(-M,R,za);var Ug=this.i,om=bj;null==bj&&(om=
1);Ug.C=b;Ug.B=c;Ug.A=d;Ug.v=om;this.i.m(-da,na,Ba);var Vg=this.i,pm=$i;null==$i&&(pm=1);Vg.C=b;Vg.B=c;Vg.A=d;Vg.v=pm;this.i.m(-ba,la,Aa);var Wg=this.i,qm=Yi;null==Yi&&(qm=1);Wg.C=b;Wg.B=c;Wg.A=d;Wg.v=qm;this.i.m(-F,J,N);var Xg=this.i,Ac=Xg.F,on=Xg.G-4;if(Ac.length==Ac.g.length){for(var rm=Ac.g.length,sm=new Int32Array(rm<<1),tm=0;tm<rm;){var um=tm++;sm[um]=Ac.g[um]}Ac.g=sm}Ac.g[Ac.length++]=on;Ac.D=!0;var Bc=Xg.F,pn=Xg.G-2;if(Bc.length==Bc.g.length){for(var vm=Bc.g.length,wm=new Int32Array(vm<<1),
xm=0;xm<vm;){var ym=xm++;wm[ym]=Bc.g[ym]}Bc.g=wm}Bc.g[Bc.length++]=pn;Bc.D=!0}var fj=1-(246-F)/30,gj=.6*e*(0>fj?0:1<fj?1:fj),hj=1-(246-ba)/30,ij=.6*e*(0>hj?0:1<hj?1:hj),jj=1-(246-da)/30,kj=.6*e*(0>jj?0:1<jj?1:jj),lj=1-(246-M)/30,mj=.6*e*(0>lj?0:1<lj?1:lj);if(0<gj||0<ij||0<kj||0<mj){var nj=this.i;nj.L=-0;nj.M=0;nj.N=1;var Yg=this.i,zm=mj;null==mj&&(zm=1);Yg.C=b;Yg.B=c;Yg.A=d;Yg.v=zm;this.i.m(492-M,R,za);var Zg=this.i,Am=kj;null==kj&&(Am=1);Zg.C=b;Zg.B=c;Zg.A=d;Zg.v=Am;this.i.m(492-da,na,Ba);var $g=
this.i,Bm=ij;null==ij&&(Bm=1);$g.C=b;$g.B=c;$g.A=d;$g.v=Bm;this.i.m(492-ba,la,Aa);var ah=this.i,Cm=gj;null==gj&&(Cm=1);ah.C=b;ah.B=c;ah.A=d;ah.v=Cm;this.i.m(492-F,J,N);var bh=this.i,Cc=bh.F,qn=bh.G-4;if(Cc.length==Cc.g.length){for(var Dm=Cc.g.length,Em=new Int32Array(Dm<<1),Fm=0;Fm<Dm;){var Gm=Fm++;Em[Gm]=Cc.g[Gm]}Cc.g=Em}Cc.g[Cc.length++]=qn;Cc.D=!0;var Dc=bh.F,rn=bh.G-2;if(Dc.length==Dc.g.length){for(var Hm=Dc.g.length,Im=new Int32Array(Hm<<1),Jm=0;Jm<Hm;){var Km=Jm++;Im[Km]=Dc.g[Km]}Dc.g=Im}Dc.g[Dc.length++]=
rn;Dc.D=!0}};ua.j=function(){new ua(window.document.getElementById("canvas"))};ua.I=!0;xa.h=function(a){return Ec.h(a,"")};xa.I=!0;tj(ta,Error);ta.h=function(a){return a instanceof ta?a:a instanceof Error?new ta(a.message,null,a):new tf(a,null,a)};ta.j=function(a){return a instanceof ta?a.h:a instanceof Error?a:new tf(a)};ta.I=!0;tj(tf,ta);tf.I=!0;nd.I=!0;Ec.h=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.I||a.pb)&&(c="object");switch(c){case "function":return"<function>";
case "object":if(a.Ja){var d=ge[a.Ja].Oa[a.ma];c=d.La;if(d.ab){b+="\t";var e=[],f=0;for(d=d.ab;f<d.length;){var g=d[f];f+=1;e.push(Ec.h(a[g],b))}return c+"("+e.join(",")+")"}return c}if(a instanceof Array){c="[";b+="\t";e=0;for(f=a.length;e<f;)d=e++,c+=(0<d?",":"")+Ec.h(a[d],b);return c+"]"}try{e=a.toString}catch(h){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e&&(c=a.toString(),"[object Object]"!=c))return c;c="{\n";b+="\t";e=null!=a.hasOwnProperty;f=null;for(f in a)e&&!a.hasOwnProperty(f)||
"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+Ec.h(a[f],b));b=b.substring(1);return c+("\n"+b+"}");case "string":return a;default:return String(a)}};Ec.I=!0;eh.h=function(a){var b={premultipliedAlpha:!1},c=a.getContext("webgl",b);if(null!=c)return c;a=a.getContext("experimental-webgl",b);return null!=a?a:null};eh.I=!0;qf.I=!0;y.I=!0;Gb.I=!0;sf.prototype.set=function(a,b){var c=this.min;c.x=a.x;c.y=a.y;a=this.max;a.x=
b.x;a.y=b.y};sf.prototype.Cc=function(a){return this.min.x<=a.max.x&&this.max.x>=a.min.x&&this.min.y<=a.max.y?this.max.y>=a.min.y:!1};sf.I=!0;Da.prototype.h=function(a,b){null==b&&(b=1);this.shape=a;a.Pa();b=a.rb*b;a=b*a.xb;this.ia=0<b?1/b:0;this.yb=0<a?1/a:0;this.sync();return this};Da.prototype.sync=function(){var a=this.S,b=this.pa,c=Math.sin(b);b=Math.cos(b);a.W=b;a.X=-c;a.Y=c;a.Z=b;this.shape.pa=this.pa;a=this.shape.S;c=this.S;a.W=c.W;a.X=c.X;a.Y=c.Y;a.Z=c.Z;a=this.shape.p;c=this.p;a.x=c.x;a.y=
c.y;this.shape.Gb()};Da.I=!0;ra.prototype.h=function(a){this.bb=new sf;this.S=new qf(1,0,0,1);this.pa=0;this.p=new y(0,0);this.rb=this.xb=0;this.type=a};ra.prototype.Pa=function(){};ra.prototype.Gb=function(){};ra.I=!0;tj(sa,ra);sa.prototype.h=function(a,b){this.s=new y(0,0);ra.prototype.h.call(this,of.Ib(this));var c=this.s;c.x=a;c.y=b};sa.prototype.Pa=function(){var a=this.s,b=this.s;this.rb=4*(b.x*a.x+b.y*a.y);b=a=this.s;this.xb=(b.x*a.x+b.y*a.y)/3};sa.prototype.Gb=function(){var a=this.S,b=a.W;
a=a.Y;var c=this.s.x;b=(0>b?-b:b)*c;a=(0>a?-a:a)*c;var d=this.S;c=d.X;d=d.Z;var e=this.s.y;c=(0>c?-c:c)*e;e=(0>d?-d:d)*e;var f=this.bb,g=this.p,h=this.p;d=h.x+b+c;h=h.y+a+e;var k=f.min;k.x=g.x-b-c;k.y=g.y-a-e;b=f.max;b.x=d;b.y=h};sa.I=!0;A.O=function(a,b,c){var d=A.h[0],e=a.p,f=a.S,g=a.s,h=-1*g.x,k=-1*g.y;d.x=e.x+(f.W*h+f.X*k);d.y=e.y+(f.Y*h+f.Z*k);var l=A.h[1],m=a.p,p=a.S,w=a.s,H=-1*w.x,Q=1*w.y;l.x=m.x+(p.W*H+p.X*Q);l.y=m.y+(p.Y*H+p.Z*Q);var z=A.h[2],fa=a.p,W=a.S,S=a.s,T=1*S.x,U=1*S.y;z.x=fa.x+(W.W*
T+W.X*U);z.y=fa.y+(W.Y*T+W.Z*U);var E=A.h[3],I=a.p,K=a.S,F=a.s,J=1*F.x,N=-1*F.y;E.x=I.x+(K.W*J+K.X*N);E.y=I.y+(K.Y*J+K.Z*N);var G=A.j[0],L=b.p,O=b.S,M=b.s,R=-1*M.x,za=-1*M.y;G.x=L.x+(O.W*R+O.X*za);G.y=L.y+(O.Y*R+O.Z*za);var aa=A.j[1],ka=b.p,oa=b.S,ba=b.s,la=-1*ba.x,Aa=1*ba.y;aa.x=ka.x+(oa.W*la+oa.X*Aa);aa.y=ka.y+(oa.Y*la+oa.Z*Aa);var ca=A.j[2],ma=b.p,pa=b.S,da=b.s,na=1*da.x,Ba=1*da.y;ca.x=ma.x+(pa.W*na+pa.X*Ba);ca.y=ma.y+(pa.Y*na+pa.Z*Ba);var Gc=A.j[3],Hc=b.p,Hb=b.S,ie=b.s,od=1*ie.x,Ic=-1*ie.y;Gc.x=
Hc.x+(Hb.W*od+Hb.X*Ic);Gc.y=Hc.y+(Hb.Y*od+Hb.Z*Ic);var Xa=A.o[0],vf=a.S;Xa.x=-vf.W;Xa.y=-vf.Y;var je=A.o[1],ke=a.S;je.x=ke.X;je.y=ke.Z;var le=A.o[2],me=a.S;le.x=me.W;le.y=me.Y;var Ya=A.o[3],wf=a.S;Ya.x=-wf.X;Ya.y=-wf.Z;var ne=A.u[0],oe=b.S;ne.x=-oe.W;ne.y=-oe.Y;var pe=A.u[1],qe=b.S;pe.x=qe.X;pe.y=qe.Z;var pd=A.u[2],qd=b.S;pd.x=qd.W;pd.y=qd.Y;var rd=A.u[3],sd=b.S;rd.x=-sd.X;rd.y=-sd.Z;var va=-1,Rb=A.h,ha=A.j,Sb=A.o,Oa=1E9;va=-1;var Ga=Rb[0],Za=Sb[0],Ha=1E9,re=ha[0],Jc=(re.x-Ga.x)*Za.x+(re.y-Ga.y)*
Za.y;1E9>Jc&&(Ha=Jc);var se=ha[1],Kc=(se.x-Ga.x)*Za.x+(se.y-Ga.y)*Za.y;Kc<Ha&&(Ha=Kc);var te=ha[2],Lc=(te.x-Ga.x)*Za.x+(te.y-Ga.y)*Za.y;Lc<Ha&&(Ha=Lc);var $a=ha[3],xf=($a.x-Ga.x)*Za.x+($a.y-Ga.y)*Za.y;xf<Ha&&(Ha=xf);var ue=-Ha;1E9>ue&&(Oa=ue,va=0);var ab=Rb[1],bb=Sb[1],cb=1E9,db=ha[0],yf=(db.x-ab.x)*bb.x+(db.y-ab.y)*bb.y;1E9>yf&&(cb=yf);var ve=ha[1],we=(ve.x-ab.x)*bb.x+(ve.y-ab.y)*bb.y;we<cb&&(cb=we);var xe=ha[2],ye=(xe.x-ab.x)*bb.x+(xe.y-ab.y)*bb.y;ye<cb&&(cb=ye);var td=ha[3],ud=(td.x-ab.x)*bb.x+
(td.y-ab.y)*bb.y;ud<cb&&(cb=ud);var vd=-cb;vd<Oa&&(Oa=vd,va=1);var Pa=Rb[2],Qa=Sb[2],Ra=1E9,wd=ha[0],xd=(wd.x-Pa.x)*Qa.x+(wd.y-Pa.y)*Qa.y;1E9>xd&&(Ra=xd);var yd=ha[1],Mc=(yd.x-Pa.x)*Qa.x+(yd.y-Pa.y)*Qa.y;Mc<Ra&&(Ra=Mc);var ze=ha[2],Nc=(ze.x-Pa.x)*Qa.x+(ze.y-Pa.y)*Qa.y;Nc<Ra&&(Ra=Nc);var Ae=ha[3],Oc=(Ae.x-Pa.x)*Qa.x+(Ae.y-Pa.y)*Qa.y;Oc<Ra&&(Ra=Oc);var Be=-Ra;Be<Oa&&(Oa=Be,va=2);var Ia=Rb[3],eb=Sb[3],Ja=1E9,fb=ha[0],zf=(fb.x-Ia.x)*eb.x+(fb.y-Ia.y)*eb.y;1E9>zf&&(Ja=zf);var Ce=ha[1],De=(Ce.x-Ia.x)*eb.x+
(Ce.y-Ia.y)*eb.y;De<Ja&&(Ja=De);var Ee=ha[2],Fe=(Ee.x-Ia.x)*eb.x+(Ee.y-Ia.y)*eb.y;Fe<Ja&&(Ja=Fe);var gb=ha[3],Af=(gb.x-Ia.x)*eb.x+(gb.y-Ia.y)*eb.y;Af<Ja&&(Ja=Af);var Ge=-Ja;Ge<Oa&&(Oa=Ge,va=3);var He=Oa,Pc=va;if(!(0>He)){var Qc=A.j,ia=A.h,Tb=A.u,Sa=1E9;va=-1;var Ta=Qc[0],Ua=Tb[0],Va=1E9,zd=ia[0],Ad=(zd.x-Ta.x)*Ua.x+(zd.y-Ta.y)*Ua.y;1E9>Ad&&(Va=Ad);var Bd=ia[1],Rc=(Bd.x-Ta.x)*Ua.x+(Bd.y-Ta.y)*Ua.y;Rc<Va&&(Va=Rc);var Ie=ia[2],Sc=(Ie.x-Ta.x)*Ua.x+(Ie.y-Ta.y)*Ua.y;Sc<Va&&(Va=Sc);var Je=ia[3],Tc=(Je.x-
Ta.x)*Ua.x+(Je.y-Ta.y)*Ua.y;Tc<Va&&(Va=Tc);var Ke=-Va;1E9>Ke&&(Sa=Ke,va=0);var Ka=Qc[1],hb=Tb[1],La=1E9,ib=ia[0],Bf=(ib.x-Ka.x)*hb.x+(ib.y-Ka.y)*hb.y;1E9>Bf&&(La=Bf);var Le=ia[1],Me=(Le.x-Ka.x)*hb.x+(Le.y-Ka.y)*hb.y;Me<La&&(La=Me);var Ne=ia[2],Oe=(Ne.x-Ka.x)*hb.x+(Ne.y-Ka.y)*hb.y;Oe<La&&(La=Oe);var jb=ia[3],Cf=(jb.x-Ka.x)*hb.x+(jb.y-Ka.y)*hb.y;Cf<La&&(La=Cf);var Pe=-La;Pe<Sa&&(Sa=Pe,va=1);var kb=Qc[2],lb=Tb[2],mb=1E9,Uc=ia[0],Qe=(Uc.x-kb.x)*lb.x+(Uc.y-kb.y)*lb.y;1E9>Qe&&(mb=Qe);var Cd=ia[1],Vc=(Cd.x-
kb.x)*lb.x+(Cd.y-kb.y)*lb.y;Vc<mb&&(mb=Vc);var nb=ia[2],Df=(nb.x-kb.x)*lb.x+(nb.y-kb.y)*lb.y;Df<mb&&(mb=Df);var Re=ia[3],Se=(Re.x-kb.x)*lb.x+(Re.y-kb.y)*lb.y;Se<mb&&(mb=Se);var Te=-mb;Te<Sa&&(Sa=Te,va=2);var ob=Qc[3],qa=Tb[3],Ab=1E9,Ue=ia[0],Ve=(Ue.x-ob.x)*qa.x+(Ue.y-ob.y)*qa.y;1E9>Ve&&(Ab=Ve);var We=ia[1],Xe=(We.x-ob.x)*qa.x+(We.y-ob.y)*qa.y;Xe<Ab&&(Ab=Xe);var Dd=ia[2],Ed=(Dd.x-ob.x)*qa.x+(Dd.y-ob.y)*qa.y;Ed<Ab&&(Ab=Ed);var Fd=ia[3],Gd=(Fd.x-ob.x)*qa.x+(Fd.y-ob.y)*qa.y;Gd<Ab&&(Ab=Gd);var Hd=-Ab;
Hd<Sa&&(Sa=Hd,va=3);var Id=Sa,Ub=va;if(!(0>Id))if(He<Id){var Ca=A.o[Pc],Wa=A.h[Pc],Ib=A.h[Pc+1&3],pb=A.o[Pc],Jb=A.u,Bb=1,Cb=-1,Ye=Jb[0],Wc=pb.x*Ye.x+pb.y*Ye.y;1>Wc&&(Bb=Wc,Cb=0);var Ze=Jb[1],Xc=pb.x*Ze.x+pb.y*Ze.y;Xc<Bb&&(Bb=Xc,Cb=1);var qb=Jb[2],Ef=pb.x*qb.x+pb.y*qb.y;Ef<Bb&&(Bb=Ef,Cb=2);var $e=Jb[3],af=pb.x*$e.x+pb.y*$e.y;af<Bb&&(Bb=af,Cb=3);for(var bf=Cb,X=A.j[bf],V=A.j[bf+1&3],Jd=a.p,Yc=b.p;;){var cf=Ca,Zc=-cf.y,$c=cf.x,Vb=Zc*(X.x-Wa.x)+$c*(X.y-Wa.y),ad=Zc*(V.x-Wa.x)+$c*(V.y-Wa.y);if(0<Vb&&0<
ad)break;if(0>Vb*ad){var Kd=Vb/(Vb-ad);V.x=X.x+(V.x-X.x)*Kd;V.y=X.y+(V.y-X.y)*Kd}var Wb=Zc*(X.x-Ib.x)+$c*(X.y-Ib.y),bd=Zc*(V.x-Ib.x)+$c*(V.y-Ib.y);if(0>Wb&&0>bd)break;if(0>Wb*bd){var Ld=Wb/(Wb-bd);X.x+=(V.x-X.x)*Ld;X.y+=(V.y-X.y)*Ld}var Xb=(Wa.x-X.x)*Ca.x+(Wa.y-X.y)*Ca.y,Yb=(Wa.x-V.x)*Ca.x+(Wa.y-V.y)*Ca.y;if(0<Xb){var Zb=c.qa[c.oa++],Md=X.x-Yc.x,Ff=X.y-Yc.y,cd=Ca,Gf=-cd.x,Nd=-cd.y,df=Zb.aa;df.x=X.x+Ca.x*Xb-Jd.x;df.y=X.y+Ca.y*Xb-Jd.y;var dd=Zb.ba;dd.x=Md;dd.y=Ff;var ef=Zb.n;ef.x=Gf;ef.y=Nd;Zb.depth=
Xb}if(0<Yb){var Kb=c.qa[c.oa++],Db=V.x-Yc.x,hh=V.y-Yc.y,ff=Ca,Hf=-ff.x,If=-ff.y,gf=Kb.aa;gf.x=V.x+Ca.x*Yb-Jd.x;gf.y=V.y+Ca.y*Yb-Jd.y;var rb=Kb.ba;rb.x=Db;rb.y=hh;var Jf=Kb.n;Jf.x=Hf;Jf.y=If;Kb.depth=Yb}break}}else{var Ea=A.u[Ub],sb=A.j[Ub],ed=A.j[Ub+1&3],tb=A.u[Ub],$b=A.o,ub=1,Lb=-1,Od=$b[0],Pd=tb.x*Od.x+tb.y*Od.y;1>Pd&&(ub=Pd,Lb=0);var Qd=$b[1],Rd=tb.x*Qd.x+tb.y*Qd.y;Rd<ub&&(ub=Rd,Lb=1);var Sd=$b[2],Td=tb.x*Sd.x+tb.y*Sd.y;Td<ub&&(ub=Td,Lb=2);var fd=$b[3],hf=tb.x*fd.x+tb.y*fd.y;hf<ub&&(ub=hf,Lb=3);
for(var gd=Lb,Y=A.h[gd],ea=A.h[gd+1&3],hd=b.p,Mb=a.p;;){var jf=Ea,Nb=-jf.y,Ma=jf.x,Ud=Nb*(Y.x-sb.x)+Ma*(Y.y-sb.y),Vd=Nb*(ea.x-sb.x)+Ma*(ea.y-sb.y);if(0<Ud&&0<Vd)break;if(0>Ud*Vd){var kf=Ud/(Ud-Vd);ea.x=Y.x+(ea.x-Y.x)*kf;ea.y=Y.y+(ea.y-Y.y)*kf}var id=Nb*(Y.x-ed.x)+Ma*(Y.y-ed.y),Wd=Nb*(ea.x-ed.x)+Ma*(ea.y-ed.y);if(0>id&&0>Wd)break;if(0>id*Wd){var vb=id/(id-Wd);Y.x+=(ea.x-Y.x)*vb;Y.y+=(ea.y-Y.y)*vb}var Xd=(sb.x-Y.x)*Ea.x+(sb.y-Y.y)*Ea.y,jd=(sb.x-ea.x)*Ea.x+(sb.y-ea.y)*Ea.y;if(0<Xd){var kd=c.qa[c.oa++],
Kf=Y.x-Mb.x,Lf=Y.y-Mb.y,ld=Ea,Yd=-ld.x,Zd=-ld.y,lf=kd.aa;lf.x=Y.x+Ea.x*Xd-hd.x;lf.y=Y.y+Ea.y*Xd-hd.y;var $d=kd.ba;$d.x=Kf;$d.y=Lf;var md=kd.n;md.x=Yd;md.y=Zd;kd.depth=Xd}if(0<jd){var Na=c.qa[c.oa++],ih=ea.x-Mb.x,Mf=ea.y-Mb.y,mf=Ea,Nf=-mf.x,Of=-mf.y,wb=Na.aa;wb.x=ea.x+Ea.x*jd-hd.x;wb.y=ea.y+Ea.y*jd-hd.y;var Pf=Na.ba;Pf.x=ih;Pf.y=Mf;var nf=Na.n;nf.x=Nf;nf.y=Of;Na.depth=jd}c.Sa();break}}}};A.I=!0;tj(fe,ra);fe.prototype.h=function(a){ra.prototype.h.call(this,of.Kb(this));this.r=a};fe.prototype.Pa=function(){this.rb=
Math.PI*this.r*this.r;this.xb=this.r*this.r/2};fe.prototype.Gb=function(){var a=this.bb,b=this.p,c=this.r,d=this.p,e=this.r,f=d.x+e;d=d.y+e;e=a.min;e.x=b.x-c;e.y=b.y-c;a=a.max;a.x=f;a.y=d};fe.I=!0;rf.h=function(a,b,c){var d=a.p,e=b.p,f=d.x-e.x;d=d.y-e.y;var g=b.S;e=g.W*f+g.Y*d;g=g.X*f+g.Z*d;d=b.s;f=-d.x;d=-d.y;f=e>f?e:f;d=g>d?g:d;var h=b.s,k=h.x;h=h.y;f=f<k?f:k;d=d<h?d:h;e=f-e;g=d-g;g=e*e+g*g;if(0==g){g=b.s;e=g.x+f;g=g.y+d;k=b.s;var l=k.x-f,m=k.y-d;h=k=0;e<g?l<m?e<l?(k=-1,f=-b.s.x):(k=1,f=b.s.x,e=
l):e<m?(k=-1,f=-b.s.x):(h=1,d=b.s.y,e=m):l<m?g<l?(h=-1,d=-b.s.y,e=g):(k=1,f=b.s.x,e=l):g<m?(h=-1,d=-b.s.y,e=g):(h=1,d=b.s.y,e=m);l=b.S;g=l.W*k+l.X*h;k=l.Y*k+l.Z*h;b=b.S;c=c.qa[c.oa++];a=a.r;h=c.aa;h.x=-g*a;h.y=-k*a;a=c.ba;a.x=b.W*f+b.X*d;a.y=b.Y*f+b.Z*d;a=c.n;a.x=g;a.y=k;c.depth=e}else 0<g&&g<a.r*a.r&&(k=b.S,e=k.W*f+k.X*d,f=k.Y*f+k.Z*d,d=a.p,k=b.p,b=d.x-(e+k.x),d=d.y-(f+k.y),k=Math.sqrt(b*b+d*d),0<k&&(k=1/k),b*=k,d*=k,g=a.r-Math.sqrt(g),c=c.qa[c.oa++],a=a.r,k=c.aa,k.x=-b*a,k.y=-d*a,a=c.ba,a.x=e,a.y=
f,a=c.n,a.x=b,a.y=d,c.depth=g)};rf.I=!0;fh.h=function(a,b,c){var d=a.p,e=b.p,f=d.x-e.x;e=d.y-e.y;d=f*f+e*e;if(0<d){var g=Math.sqrt(f*f+e*e);0<g&&(g=1/g);f=new y(f*g,e*g)}else f=new y(1,0);e=a.r+b.r;if(d<e*e){d=e-Math.sqrt(d);c=c.qa[c.oa++];e=f;a=a.r;g=b.r;b=f.x*g;g=f.y*g;var h=c.aa;h.x=-e.x*a;h.y=-e.y*a;a=c.ba;a.x=b;a.y=g;b=c.n;b.x=f.x;b.y=f.y;c.depth=d}};fh.I=!0;Qb.prototype.set=function(a,b,c){this.T=a;this.U=b;var d=this.aa,e=c.aa;d.x=e.x;d.y=e.y;d=this.ba;e=c.ba;d.x=e.x;d.y=e.y;d=this.zb;e=a.S;
var f=this.aa,g=e.X*f.x+e.Z*f.y;d.x=e.W*f.x+e.Y*f.y;d.y=g;d=this.Ab;e=b.S;f=this.ba;g=e.X*f.x+e.Z*f.y;d.x=e.W*f.x+e.Y*f.y;d.y=g;d=this.Cb;a=a.p;e=this.aa;d.x=a.x+e.x;d.y=a.y+e.y;a=this.Db;b=b.p;d=this.ba;a.x=b.x+d.x;a.y=b.y+d.y;b=this.n;a=c.n;b.x=a.x;b.y=a.y;b=this.t;a=this.n;d=a.x;b.x=-a.y;b.y=d;this.depth=c.depth;return this};Qb.prototype.Kc=function(){var a=this.T.H,b=this.U.H,c=this.T.P,d=this.aa,e=this.U.P,f=this.ba,g=this.n;a=(a.x-b.x+-d.y*c- -f.y*e)*g.x+(a.y-b.y+d.x*c-f.x*e)*g.y;b=Math.sqrt(this.T.lb*
this.U.lb);this.Aa=Math.sqrt(this.T.Aa*this.U.Aa);this.target=-.2>a?-b*a:0;.05<this.depth&&(a=.1*(this.depth-.05),this.target<a&&(this.target=a));this.j=this.h=0;this.Pa()};Qb.prototype.Jc=function(){var a=this.T.H,b=this.U.H,c=this.T.P,d=this.aa,e=this.U.P,f=this.ba,g=a.x-b.x+-d.y*c- -f.y*e;a=a.y-b.y+d.x*c-f.x*e;b=this.n;b=g*b.x+a*b.y;c=Math.sqrt(this.T.lb*this.U.lb);this.Aa=Math.sqrt(this.T.Aa*this.U.Aa);-.05<b?(b=0,c=.2):c=b=-b/c;d=this.t;g=g*d.x+a*d.y;this.ca=-.05>g?-1:.05<g?1:0;this.target=b;
.05>Math.random()&&(this.target=c);this.j=this.h=0;this.Pa()};Qb.prototype.Pa=function(){var a=this.n,b=this.aa;this.o=b.x*a.y-b.y*a.x;a=this.t;b=this.aa;this.O=b.x*a.y-b.y*a.x;a=this.n;b=this.ba;this.u=b.x*a.y-b.y*a.x;a=this.t;b=this.ba;this.V=b.x*a.y-b.y*a.x;var c=this.T.ia;a=this.U.ia;b=this.T.yb;var d=this.U.yb;this.ia.W=c+a+b*this.o*this.o+d*this.u*this.u;this.ia.Z=c+a+b*this.O*this.O+d*this.V*this.V;this.ia.X=b*this.o*this.O+d*this.u*this.V;this.ia.Y=this.ia.X;this.ea=1/this.ia.W;this.fa=1/
this.ia.Z;var e=this.ya,f=this.n;e.x=f.x*c;e.y=f.y*c;e=this.Ea;f=this.n;e.x=f.x*a;e.y=f.y*a;e=this.Ha;f=this.t;e.x=f.x*c;e.y=f.y*c;c=this.Ia;e=this.t;c.x=e.x*a;c.y=e.y*a;this.ha=this.o*b;this.ja=this.u*d;this.Fa=this.O*b;this.Ga=this.V*d};Qb.prototype.Oc=function(){var a=this.T.H,b=this.U.H,c=this.n,d=this.h;a=this.h+(this.target-((a.x-b.x)*c.x+(a.y-b.y)*c.y+this.T.P*this.o-this.U.P*this.u))*this.ea;this.h=0<a?a:0;d=this.h-d;a=this.T.H;b=this.ya;a.x+=b.x*d;a.y+=b.y*d;a=this.U.H;b=this.Ea;a.x=a.x-
b.x*d;a.y=a.y-b.y*d;this.T.P+=this.ha*d;this.U.P-=this.ja*d;b=this.T.H;c=this.U.H;var e=this.t;d=this.j;a=this.h*this.Aa;b=this.j-((b.x-c.x)*e.x+(b.y-c.y)*e.y+this.T.P*this.O-this.U.P*this.V)*this.fa;c=-a;this.j=b<c?c:b>a?a:b;d=this.j-d;a=this.T.H;b=this.Ha;a.x+=b.x*d;a.y+=b.y*d;a=this.U.H;b=this.Ia;a.x=a.x-b.x*d;a.y=a.y-b.y*d;this.T.P+=this.Fa*d;this.U.P-=this.Ga*d};Qb.prototype.Nc=function(){var a=this.T.H,b=this.U.H,c=this.n,d=this.h;a=this.h+(this.target-((a.x-b.x)*c.x+(a.y-b.y)*c.y+this.T.P*
this.o-this.U.P*this.u))*this.ea;this.h=0<a?a:0;d=this.h-d;a=this.T.H;b=this.ya;a.x+=b.x*d;a.y+=b.y*d;a=this.U.H;b=this.Ea;a.x=a.x-b.x*d;a.y=a.y-b.y*d;this.T.P+=this.ha*d;this.U.P-=this.ja*d;b=this.T.H;c=this.U.H;var e=this.t;d=this.j;a=this.h*this.Aa;0==this.ca?(b=this.j-((b.x-c.x)*e.x+(b.y-c.y)*e.y+this.T.P*this.O-this.U.P*this.V)*this.fa,c=-a,this.j=b<c?c:b>a?a:b):this.j=a*this.ca;d=this.j-d;a=this.T.H;b=this.Ha;a.x+=b.x*d;a.y+=b.y*d;a=this.U.H;b=this.Ia;a.x=a.x-b.x*d;a.y=a.y-b.y*d;this.T.P+=this.Fa*
d;this.U.P-=this.Ga*d};Qb.I=!0;ee.prototype.clear=function(){this.oa=0};ee.prototype.add=function(){return this.qa[this.oa++]};ee.prototype.Sa=function(){1<=this.oa&&(this.qa[0].Sa(),2<=this.oa&&this.qa[1].Sa())};ee.I=!0;de.prototype.set=function(a,b,c,d){var e=this.aa;e.x=a.x;e.y=a.y;a=this.ba;a.x=b.x;a.y=b.y;b=this.n;b.x=c.x;b.y=c.y;this.depth=d};de.prototype.Sa=function(){var a=this.aa,b=a.x;a=a.y;var c=this.aa,d=this.ba;c.x=d.x;c.y=d.y;c=this.ba;c.x=b;c.y=a;a=b=this.n;b.x=-a.x;b.y=-a.y};de.I=
!0;var of=ge["phys.ShapeType"]={pb:!0,Oa:null,Kb:(ya=function(a){return{ma:0,c:a,Ja:"phys.ShapeType",toString:Fc}},ya.La="Circle",ya.ab=["c"],ya),Ib:(ya=function(a){return{ma:1,b:a,Ja:"phys.ShapeType",toString:Fc}},ya.La="Box",ya.ab=["b"],ya)};of.Oa=[of.Kb,of.Ib];Fb.prototype.j=function(a){null==a&&(a=!1);a?this.fa():this.ha();if(this.O){a=[];this.o.push(a);for(var b=0,c=this.da;b<c.length;){var d=c[b];++b;a.push(d.p.x);a.push(d.p.y);a.push(d.pa);a.push(d.H.x);a.push(d.H.y);a.push(d.P)}}};Fb.prototype.ea=
function(){this.o.length=0;this.O=!0};Fb.prototype.ja=function(){this.h.length=0;this.O=!1};Fb.prototype.ca=function(){var a=!0;null==a&&(a=!1);if(0!=this.o.length){a&&(this.Ka=(this.Ka+this.o.length-1)%this.o.length);for(var b=this.o[this.Ka],c=0,d=0,e=this.da;d<e.length;){var f=e[d];++d;f.p.x=b[c++];f.p.y=b[c++];f.pa=b[c++];f.H.x=b[c++];f.H.y=b[c++];f.P=b[c++];f.sync()}a||(this.Ka=(this.Ka+1)%this.o.length)}};Fb.prototype.ha=function(){this.V();for(var a=0,b=this.da;a<b.length;){var c=b[a];++a;
if(0<c.ia){c=c.H;var d=this.i;c.x+=d.x;c.y+=d.y}}a=0;for(b=this.h;a<b.length;)b[a++].Kc();for(a=0;20>a;)for(++a,b=0,c=this.h;b<c.length;)c[b++].Oc();a=0;for(b=this.da;a<b.length;){c=b[a];++a;d=c.p;var e=c.H;d.x+=e.x;d.y+=e.y;c.pa+=c.P;c.sync()}};Fb.prototype.fa=function(){this.V();for(var a=0,b=this.da;a<b.length;){var c=b[a];++a;var d=c.H,e=c.H;d.x=-e.x;d.y=-e.y;c.P=-c.P}a=0;for(b=this.h;a<b.length;)b[a++].Jc();a=0;for(b=this.da;a<b.length;)c=b[a],++a,0<c.ia&&(c=c.H,d=this.i,c.x+=d.x,c.y+=d.y);for(a=
0;20>a;)for(++a,b=0,c=this.h;b<c.length;)c[b++].Nc();a=0;for(b=this.da;a<b.length;)c=b[a],++a,d=c.p,e=c.H,d.x+=e.x,d.y+=e.y,c.pa+=c.P,c.sync(),e=d=c.H,d.x=-e.x,d.y=-e.y,c.P=-c.P};Fb.prototype.V=function(){this.h.length=0;for(var a=this.da.length,b=new ee,c=0;c<a;)for(var d=c++,e=d+1;e<a;){b.clear();var f=this.da[d],g=this.da[e++];if((0!=f.ia||0!=g.ia)&&f.shape.bb.Cc(g.shape.bb)){var h=f.shape.type,k=g.shape.type;switch(h.ma){case 0:h=h.c;switch(k.ma){case 0:fh.h(h,k.c,b);break;case 1:rf.h(h,k.b,b)}break;
case 1:switch(h=h.b,k.ma){case 0:rf.h(k.c,h,b);b.Sa();break;case 1:A.O(h,k.b,b)}}if(1<=b.oa){k=this.u[this.h.length];h=b.qa[0];k.T=f;k.U=g;var l=k.aa,m=h.aa;l.x=m.x;l.y=m.y;l=k.ba;m=h.ba;l.x=m.x;l.y=m.y;l=k.zb;m=f.S;var p=k.aa,w=m.X*p.x+m.Z*p.y;l.x=m.W*p.x+m.Y*p.y;l.y=w;l=k.Ab;m=g.S;p=k.ba;w=m.X*p.x+m.Z*p.y;l.x=m.W*p.x+m.Y*p.y;l.y=w;l=k.Cb;m=f.p;p=k.aa;l.x=m.x+p.x;l.y=m.y+p.y;l=k.Db;m=g.p;p=k.ba;l.x=m.x+p.x;l.y=m.y+p.y;l=k.n;m=h.n;l.x=m.x;l.y=m.y;l=k.t;m=k.n;p=m.x;l.x=-m.y;l.y=p;k.depth=h.depth;this.h.push(k);
2<=b.oa&&(k=this.u[this.h.length],h=b.qa[1],k.T=f,k.U=g,l=k.aa,m=h.aa,l.x=m.x,l.y=m.y,l=k.ba,m=h.ba,l.x=m.x,l.y=m.y,l=k.zb,m=f.S,p=k.aa,w=m.X*p.x+m.Z*p.y,l.x=m.W*p.x+m.Y*p.y,l.y=w,l=k.Ab,m=g.S,p=k.ba,w=m.X*p.x+m.Z*p.y,l.x=m.W*p.x+m.Y*p.y,l.y=w,l=k.Cb,f=f.p,m=k.aa,l.x=f.x+m.x,l.y=f.y+m.y,f=k.Db,g=g.p,l=k.ba,f.x=g.x+l.x,f.y=g.y+l.y,g=k.n,f=h.n,g.x=f.x,g.y=f.y,g=k.t,f=k.n,l=f.x,g.x=-f.y,g.y=l,k.depth=h.depth,this.h.push(k))}}}};Fb.I=!0;yb.prototype.start=function(){this.O||(this.j=Date.now()-this.h,
this.O=!0,window.setTimeout(ce(this,this.u),0))};yb.prototype.V=function(a){this.h=1E3/a};yb.prototype.u=function(){if(this.O){if(this.o){var a=this.update;if(yb.h)try{a()}catch(d){a=ta.h(d),window.alert(xa.h(a))}else a();a=this.Ma;if(yb.h)try{a()}catch(d){a=ta.h(d),window.alert(xa.h(a))}else a()}else{a=Date.now();for(var b=!1;a-this.j>.5*this.h;){b=this.update;if(yb.h)try{b()}catch(d){b=ta.h(d),window.alert(xa.h(b))}else b();b=!0;this.j+=this.h;var c=Date.now();if(c-a>.75*this.h){this.j<c-this.h&&
(this.j=c-this.h);break}}if(b)if(a=this.Ma,yb.h)try{a()}catch(d){a=ta.h(d),window.alert(xa.h(a))}else a()}window.requestAnimationFrame(ce(this,this.u))}};yb.I=!0;var uf=ge["pot.core.FrameRate"]={pb:!0,Oa:null,kc:{La:"Auto",ma:0,Ja:"pot.core.FrameRate",toString:Fc},Lb:(ya=function(a){return{ma:1,wc:a,Ja:"pot.core.FrameRate",toString:Fc}},ya.La="Fixed",ya.ab=["fps"],ya)};uf.Oa=[uf.kc,uf.Lb];Pb.prototype.frameRate=function(a){switch(a.ma){case 0:this.j.V(60);this.j.o=!0;break;case 1:this.j.V(a.wc),this.j.o=
!1}};Pb.prototype.O=function(){var a=this;this.u=new ResizeObserver(function(){a.o()&&a.h.Eb()});this.u.observe(this.canvas);this.u.observe(window.document.documentElement);this.h.Eb()};Pb.prototype.o=function(){var a=this.canvas.getBoundingClientRect(),b=a.width;a=a.height;var c=window.devicePixelRatio;return this.width!=b||this.height!=a||this.la!=c?(this.width=b,this.height=a,this.la=c,this.canvas.width=this.width*this.la+.5|0,this.canvas.height=this.height*this.la+.5|0,!0):!1};Pb.prototype.start=
function(){this.j.start()};Pb.prototype.update=function(){this.h.Ka++;null!=this.h.input&&this.h.input.update();this.h.update()};Pb.prototype.Ma=function(){this.h.Ma()};Pb.I=!0;P.prototype.rc=function(){this.l.getExtension("OES_texture_float");this.l.getExtension("OES_texture_float_linear");this.l.getExtension("OES_texture_half_float");this.l.getExtension("OES_texture_half_float_linear");this.l.getExtension("WEBGL_color_buffer_float");this.l.getExtension("EXT_color_buffer_float");this.l.getExtension("EXT_color_buffer_half_float");
this.l.getExtension("OES_element_index_uint");this.l.disable(2929);this.l.enable(3042);this.l.frontFace(2305);this.l.cullFace(1029);this.l.disable(2884);this.l.blendFuncSeparate(770,771,1,1);this.l.pixelStorei(37440,!0)};P.prototype.oc=function(){this.l.enable(2929);this.l.frontFace(2305);this.l.cullFace(1029);this.l.enable(2884);this.tb=!1;this.Qb();this.h=null};P.prototype.sc=function(){this.Ia=new ja;this.$=new ja;this.Va=new ja;this.ob=new ja;this.ja=new ja;this.ea=new ja;this.Pb=new ja;new ja};
P.prototype.vc=function(){var a=this.Ga=new wa(this.l);a.u="\n\t\tattribute vec4 position;\n\t\tattribute vec4 color;\n\t\tattribute vec3 normal;\n\t\tattribute vec2 texCoord;\n\n\t\tuniform mat4 transform;\n\t\tuniform mat4 modelview;\n\t\tuniform mat3 normalMatrix;\n\n\t\tvarying vec4 vColor;\n\t\tvarying vec3 vPosition;\n\t\tvarying vec3 vNormal;\n\t\tvarying vec2 vTexCoord;\n\n\t\tvoid main() {\n\t\t\tgl_Position = transform * position;\n\n\t\t\tvColor = color;\n\t\t\tvPosition = (modelview * position).xyz;\n\t\t\tvNormal = normalMatrix * normal;\n\t\t\tvTexCoord = texCoord;\n\t\t}\n\t";
a.za=!1;a=this.Ga;a.o="\n\t\tprecision highp float;\n\t\tvarying vec4 vColor;\n\t\tvarying vec3 vPosition;\n\t\tvarying vec3 vNormal;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform float ambient;\n\t\tuniform float diffuse;\n\t\tuniform float specular;\n\t\tuniform float shininess;\n\t\tuniform float emission;\n\t\tuniform int numLights;\n\t\tuniform vec4 lightPositions[8];\n\t\tuniform vec3 lightColors[8];\n\t\tuniform vec3 lightNormals[8];\n\n\t\tvec3 safeNormalize(vec3 v) {\n\t\t\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n\t\t}\n\n\t\tvoid main() {\n\t\t\tif (numLights == 0) {\n\t\t\t\tgl_FragColor = vColor;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvec3 eye = safeNormalize(vPosition);\n\t\t\tvec3 n = safeNormalize(vNormal);\n\t\t\t\n\t\t\tvec3 color = vColor.xyz;\n\t\t\tvec3 ambientTotal = vec3(0);\n\t\t\tvec3 diffuseTotal = vec3(0);\n\t\t\tvec3 specularTotal = vec3(0);\n\t\t\tvec3 emissionTotal = color * emission;\n\n\t\t\tif (!gl_FrontFacing) n = -n;\n\n\t\t\tfor (int i = 0; i < 8; i++) {\n\t\t\t\tif (i == numLights) break;\n\t\t\t\tvec4 lp = lightPositions[i];\n\t\t\t\tvec3 lc = lightColors[i];\n\t\t\t\tvec3 ln = lightNormals[i];\n\t\t\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\t\t\tbool dir = lp.w == 0.0;\n\t\t\t\tif (amb) {\n\t\t\t\t\tambientTotal += lc * color * ambient;\n\t\t\t\t} else {\n\t\t\t\t\tif (!dir) {\n\t\t\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t\t\t}\n\t\t\t\t\tfloat ldot = -dot(ln, n);\n\t\t\t\t\tif (ldot < 0.0) ldot = 0.0;\n\t\t\t\t\tdiffuseTotal += lc * color * ldot * diffuse;\n\t\t\t\t\tif (ldot > 0.0) {\n\t\t\t\t\t\tvec3 reflEye = eye - 2.0 * n * dot(eye, n);\n\t\t\t\t\t\tfloat rdot = -dot(reflEye, ln);\n\t\t\t\t\t\tif (rdot < 0.0) rdot = 0.0;\n\t\t\t\t\t\tspecularTotal += lc * pow(rdot, shininess) * specular;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tgl_FragColor = vec4(ambientTotal + diffuseTotal + specularTotal + emissionTotal, vColor.w);\n\t\t}\n\t";
a.za=!1;a=this.Ga;a.map=new nd;a.l.shaderSource(a.j,a.u);a.l.compileShader(a.j);if(!a.l.getShaderParameter(a.j,35713)){var b=a.l.getShaderInfoLog(a.j)+"\nsource:\n"+a.u;window.alert(xa.h(b));n.console.log(b)}a.l.shaderSource(a.h,a.o);a.l.compileShader(a.h);a.l.getShaderParameter(a.h,35713)||(b=a.l.getShaderInfoLog(a.h)+"\nsource:\n"+a.o,window.alert(xa.h(b)),n.console.log(b));a.l.attachShader(a.R,a.j);a.l.attachShader(a.R,a.h);a.l.linkProgram(a.R);a.l.getProgramParameter(a.R,35714)?a.za=!0:n.console.log("link failed: "+
a.l.getProgramInfoLog(a.R));a=this.Ha=new wa(this.l);a.u="\n\t\tattribute vec4 position;\n\t\tattribute vec4 color;\n\t\tattribute vec3 normal;\n\t\tattribute vec2 texCoord;\n\n\t\tuniform mat4 transform;\n\t\tuniform mat4 modelview;\n\t\tuniform mat3 normalMatrix;\n\n\t\tvarying vec4 vColor;\n\t\tvarying vec3 vPosition;\n\t\tvarying vec3 vNormal;\n\t\tvarying vec2 vTexCoord;\n\n\t\tvoid main() {\n\t\t\tgl_Position = transform * position;\n\n\t\t\tvColor = color;\n\t\t\tvPosition = (modelview * position).xyz;\n\t\t\tvNormal = normalMatrix * normal;\n\t\t\tvTexCoord = texCoord;\n\t\t}\n\t";
a.za=!1;a=this.Ha;a.o="\n\t\tprecision highp float;\n\t\tuniform sampler2D texture;\n\t\tvarying vec4 vColor;\n\t\tvarying vec3 vPosition;\n\t\tvarying vec3 vNormal;\n\t\tvarying vec2 vTexCoord;\n\t\tuniform float ambient;\n\t\tuniform float diffuse;\n\t\tuniform float specular;\n\t\tuniform float shininess;\n\t\tuniform float emission;\n\t\tuniform int numLights;\n\t\tuniform vec4 lightPositions[8];\n\t\tuniform vec3 lightColors[8];\n\t\tuniform vec3 lightNormals[8];\n\n\t\tvec3 safeNormalize(vec3 v) {\n\t\t\treturn dot(v, v) > 0.0 ? normalize(v) : vec3(0);\n\t\t}\n\n\t\tvoid main() {\n\t\t\tvec4 texMulColor = texture2D(texture, vTexCoord) * vColor;\n\t\t\tif (texMulColor.w == 0.0) {\n\t\t\t\tdiscard;\n\t\t\t}\n\t\t\tif (numLights == 0) {\n\t\t\t\tgl_FragColor = texMulColor;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvec3 eye = safeNormalize(vPosition);\n\t\t\tvec3 n = safeNormalize(vNormal);\n\t\t\tvec3 color = texMulColor.xyz;\n\t\t\tvec3 ambientTotal = vec3(0);\n\t\t\tvec3 diffuseTotal = vec3(0);\n\t\t\tvec3 specularTotal = vec3(0);\n\t\t\tvec3 emissionTotal = color * emission;\n\n\t\t\tif (!gl_FrontFacing) n = -n;\n\n\t\t\tfor (int i = 0; i < 8; i++) {\n\t\t\t\tif (i == numLights) break;\n\t\t\t\tvec4 lp = lightPositions[i];\n\t\t\t\tvec3 lc = lightColors[i];\n\t\t\t\tvec3 ln = lightNormals[i];\n\t\t\t\tbool amb = lp.w == 0.0 && dot(ln, ln) == 0.0;\n\t\t\t\tbool dir = lp.w == 0.0;\n\t\t\t\tif (amb) {\n\t\t\t\t\tambientTotal += lc * color * ambient;\n\t\t\t\t} else {\n\t\t\t\t\tif (!dir) {\n\t\t\t\t\t\tln = safeNormalize(vPosition - lp.xyz);\n\t\t\t\t\t}\n\t\t\t\t\tfloat ldot = -dot(ln, n);\n\t\t\t\t\tif (ldot < 0.0) ldot = 0.0;\n\t\t\t\t\tdiffuseTotal += lc * color * ldot * diffuse;\n\t\t\t\t\tif (ldot > 0.0) {\n\t\t\t\t\t\tvec3 reflEye = eye - 2.0 * n * dot(eye, n);\n\t\t\t\t\t\tfloat rdot = -dot(reflEye, ln);\n\t\t\t\t\t\tif (rdot < 0.0) rdot = 0.0;\n\t\t\t\t\t\tspecularTotal += lc * pow(rdot, shininess) * specular;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tgl_FragColor = vec4(ambientTotal + diffuseTotal + specularTotal + emissionTotal, texMulColor.w);\n\t\t}\n\t";
a.za=!1;a=this.Ha;a.map=new nd;a.l.shaderSource(a.j,a.u);a.l.compileShader(a.j);a.l.getShaderParameter(a.j,35713)||(b=a.l.getShaderInfoLog(a.j)+"\nsource:\n"+a.u,window.alert(xa.h(b)),n.console.log(b));a.l.shaderSource(a.h,a.o);a.l.compileShader(a.h);a.l.getShaderParameter(a.h,35713)||(b=a.l.getShaderInfoLog(a.h)+"\nsource:\n"+a.o,window.alert(xa.h(b)),n.console.log(b));a.l.attachShader(a.R,a.j);a.l.attachShader(a.R,a.h);a.l.linkProgram(a.R);a.l.getProgramParameter(a.R,35714)?a.za=!0:n.console.log("link failed: "+
a.l.getProgramInfoLog(a.R));this.nb=null};P.prototype.qc=function(){this.Xa=new t(this.l,"position",3);this.Fa=new t(this.l,"color",4);this.Wa=new t(this.l,"normal",3);this.Za=new t(this.l,"texCoord",2);this.F=new uj(this.l)};P.prototype.jc=function(){return null!=this.nb?this.nb:null!=this.h?this.Ha:this.Ga};P.prototype.screen=function(a,b){this.fa=a;this.O=b;this.Qb();this.ea.perspective(this.ha(),this.fa/this.O,this.ca,this.V)};P.prototype.viewport=function(a,b,c,d){this.l.viewport(a,this.canvas.height-
d-b,c,d)};P.prototype.Qb=function(){this.l.viewport(0,0,this.canvas.width,this.canvas.height)};P.prototype.Fc=function(){this.yc=this.xc=1;this.Ec=0;this.Dc=10;this.Ac=0};P.prototype.pc=function(){if(0!=this.Da)throw Error("scene already begun");this.Da=!0;this.Ia.Bc();this.Ba=0;this.h=null;this.v=this.A=this.B=this.C=1;this.u=this.o=this.N=this.M=this.L=0;this.Fc();this.tb||(this.Mb=.5*this.fa,this.Nb=.5*this.O,this.mc=-this.O/(2*Math.tan(.5*this.ha())),this.$.bc(this.Mb,this.Nb,this.mc,this.Mb,
this.Nb,0,0,-1,0))};P.prototype.tc=function(){if(1!=this.Da)throw Error("scene already ended");this.Da=!1;this.l.flush()};P.prototype.clear=function(a,b,c,d){null==d&&(d=1);if(1!=this.Da)throw Error("begin scene before clear scene");this.l.clearColor(a,b,c,d);this.l.clearDepth(1);this.l.clear(16640)};P.prototype.createShader=function(a,b){var c=new wa(this.l);c.u=a;c.o=b;c.za=!1;c.map=new nd;c.l.shaderSource(c.j,c.u);c.l.compileShader(c.j);c.l.getShaderParameter(c.j,35713)||(a=c.l.getShaderInfoLog(c.j)+
"\nsource:\n"+c.u,window.alert(xa.h(a)),n.console.log(a));c.l.shaderSource(c.h,c.o);c.l.compileShader(c.h);c.l.getShaderParameter(c.h,35713)||(a=c.l.getShaderInfoLog(c.h)+"\nsource:\n"+c.o,window.alert(xa.h(a)),n.console.log(a));c.l.attachShader(c.R,c.j);c.l.attachShader(c.R,c.h);c.l.linkProgram(c.R);c.l.getProgramParameter(c.R,35714)?c.za=!0:n.console.log("link failed: "+c.l.getProgramInfoLog(c.R));return c};P.prototype.Ya=function(a){this.nb=a};P.prototype.createTexture=function(a,b,c){null==c&&
(c=5121);var d=new v(this.l);d.ha(a,b,c);return d};P.prototype.transform=function(a,b,c,d,e,f,g,h,k,l,m,p,w,H,Q,z){this.Ia.nc(a,b,c,d,e,f,g,h,k,l,m,p,w,H,Q,z)};P.prototype.perspective=function(a,b,c,d){null==d&&(d=1E4);null==c&&(c=.1);null==b&&(b=1);null==a&&(a=Math.PI/3);this.Ea=a;this.mb=b;this.ca=c;this.V=d;this.ea.perspective(this.ha(),this.fa/this.O,this.ca,this.V)};P.prototype.ha=function(){var a=this.fa/this.O;switch(this.mb){case 0:var b=!0;break;case 1:b=!1;break;case 2:b=1>a;break;case 3:b=
1<a}return b?2*Math.atan(Math.tan(.5*this.Ea)/a):this.Ea};P.prototype.sb=function(a){if(1!=this.Da)throw Error("begin scene before begin shape");this.Gc=a;this.G=0;a=this.Xa;a.length=0;a.D=!0;a=this.Fa;a.length=0;a.D=!0;a=this.Wa;a.length=0;a.D=!0;a=this.Za;a.length=0;a.D=!0;a=this.F;a.length=0;a.D=!0};P.prototype.image=function(a,b,c,d,e,f,g,h,k){var l=this.h,m=this.j;this.h=a;this.j=0;this.sb(5);this.M=this.L=0;this.N=-1;a=b;var p=c;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:a=b*this.h.J,p=c*this.h.K}this.o=a;this.u=1-p;this.m(f,g,0);a=b;p=c+e;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:a=b*this.h.J,p*=this.h.K}this.o=a;this.u=1-p;this.m(f,g+k,0);a=b+d;p=c;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:a*=this.h.J,p=c*this.h.K}this.o=a;this.u=1-p;this.m(f+h,g,0);b+=d;c+=e;if(1!=
this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:b*=this.h.J,c*=this.h.K}this.o=b;this.u=1-c;this.m(f+h,g+k,0);this.ub();this.h=l;this.j=m};P.prototype.Hc=function(){this.$a.length=0;this.$a.push(new Gb(0,1,0));for(var a=1;15>a;)for(var b=a++/16*Math.PI,c=0;32>c;){var d=c++/32*Math.PI*2;this.$a.push(new Gb(Math.sin(b)*Math.cos(d),Math.cos(b),-Math.sin(b)*Math.sin(d)))}this.$a.push(new Gb(0,-1,0));for(a=this.ya.length=0;32>
a;)b=a++,this.ya.push([0,b+1,(b+1)%32+1]),this.ya.push([449,449-(b+1),449-((b+1)%32+1)]);for(a=1;14>a;)for(b=1+32*(a++-1),c=b+32,d=0;32>d;){var e=d++,f=b+e,g=c+(e+1)%32;this.ya.push([f,c+e,g]);this.ya.push([f,g,b+(e+1)%32])}};P.prototype.box=function(a,b,c){var d=this.j;this.j=1;this.sb(4);a*=.5;b*=.5;c*=.5;var e=-a,f=-b,g=-c;if(null!=this.h){this.L=-1;var h=this.N=this.M=0,k=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=
this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,g);h=0;k=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,c);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,c);k=h=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,c);h=1;k=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,g);this.L=1;k=h=this.N=this.M=
0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,g);h=0;k=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,c);k=h=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,c);h=1;k=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,c);this.L=0;this.M=-1;k=h=this.N=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,g);h=0;k=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,g);k=
h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,c);k=h=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,c);h=1;k=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,c);this.L=0;this.M=1;k=h=this.N=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,g);h=
0;k=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,c);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,c);k=h=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,c);h=1;k=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,g);this.M=this.L=0;this.N=-1;k=
h=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,g);h=0;k=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,b,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,g);k=h=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(e,f,g);k=h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,b,g);h=1;k=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:h*=this.h.J,k*=this.h.K}this.o=h;this.u=1-k;this.m(a,f,g);this.M=this.L=0;this.N=1;h=g=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:g*=this.h.J,h*=this.h.K}this.o=g;this.u=1-h;this.m(e,f,c);g=0;h=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:g*=this.h.J,h*=this.h.K}this.o=g;this.u=1-h;this.m(a,f,c);h=
g=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:g*=this.h.J,h*=this.h.K}this.o=g;this.u=1-h;this.m(a,b,c);h=g=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:g*=this.h.J,h*=this.h.K}this.o=g;this.u=1-h;this.m(e,f,c);g=f=1;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");
switch(this.j){case 0:f*=this.h.J,g*=this.h.K}this.o=f;this.u=1-g;this.m(a,b,c);a=1;f=0;if(1!=this.j&&null==this.h)throw Error("set texture before calling texCoord when texture mode is not Normal");switch(this.j){case 0:a*=this.h.J,f*=this.h.K}this.o=a;this.u=1-f}else this.L=-1,this.N=this.M=0,this.m(e,f,g),this.m(e,f,c),this.m(e,b,c),this.m(e,f,g),this.m(e,b,c),this.m(e,b,g),this.L=1,this.N=this.M=0,this.m(a,f,g),this.m(a,b,g),this.m(a,b,c),this.m(a,f,g),this.m(a,b,c),this.m(a,f,c),this.L=0,this.M=
-1,this.N=0,this.m(e,f,g),this.m(a,f,g),this.m(a,f,c),this.m(e,f,g),this.m(a,f,c),this.m(e,f,c),this.L=0,this.M=1,this.N=0,this.m(e,b,g),this.m(e,b,c),this.m(a,b,c),this.m(e,b,g),this.m(a,b,c),this.m(a,b,g),this.M=this.L=0,this.N=-1,this.m(e,f,g),this.m(e,b,g),this.m(a,b,g),this.m(e,f,g),this.m(a,b,g),this.m(a,f,g),this.M=this.L=0,this.N=1,this.m(e,f,c),this.m(a,f,c),this.m(a,b,c),this.m(e,f,c),this.m(a,b,c);this.m(e,b,c);this.ub();this.j=d};P.prototype.color=function(a,b,c,d){null==d&&(d=1);this.C=
a;this.B=b;this.A=c;this.v=d};P.prototype.wa=function(a){this.h=a};P.prototype.m=function(a,b,c){null==c&&(c=0);var d=this.F,e=this.G++;if(d.length==d.g.length){for(var f=d.g.length,g=new Int32Array(f<<1),h=0;h<f;){var k=h++;g[k]=d.g[k]}d.g=g}d.g[d.length++]=e;d.D=!0;d=this.Xa;if(d.length+3>d.maxLength){e=new Float32Array(d.maxLength<<1);f=0;for(g=d.maxLength;f<g;)h=f++,e[h]=d.g[h];d.g=e;d.maxLength<<=1}d.g[d.length++]=a;d.g[d.length++]=b;d.g[d.length++]=c;d.D=!0;a=this.Fa;b=this.C;c=this.B;d=this.A;
e=this.v;if(a.length+4>a.maxLength){f=new Float32Array(a.maxLength<<1);g=0;for(h=a.maxLength;g<h;)k=g++,f[k]=a.g[k];a.g=f;a.maxLength<<=1}a.g[a.length++]=b;a.g[a.length++]=c;a.g[a.length++]=d;a.g[a.length++]=e;a.D=!0;a=this.Wa;b=this.L;c=this.M;d=this.N;if(a.length+3>a.maxLength){e=new Float32Array(a.maxLength<<1);f=0;for(g=a.maxLength;f<g;)h=f++,e[h]=a.g[h];a.g=e;a.maxLength<<=1}a.g[a.length++]=b;a.g[a.length++]=c;a.g[a.length++]=d;a.D=!0;a=this.Za;b=this.o;c=this.u;if(a.length+2>a.maxLength){d=
new Float32Array(a.maxLength<<1);e=0;for(f=a.maxLength;e<f;)g=e++,d[g]=a.g[g];a.g=d;a.maxLength<<=1}a.g[a.length++]=b;a.g[a.length++]=c;a.D=!0};P.prototype.ub=function(){var a=this.jc(),b=a.R;this.Va.cc(this.$,this.Ia);this.ob.inverse(this.Va);this.ja.assign(this.ob);this.ja.Qc(this.ja);if(Object.prototype.hasOwnProperty.call(a.map.s,"model"))var c=a.map.s.model;else c=a.l.getUniformLocation(a.R,"model"),a.map.s.model=c;null!=c&&a.Na("model",this.Ia.g);Object.prototype.hasOwnProperty.call(a.map.s,
"view")?c=a.map.s.view:(c=a.l.getUniformLocation(a.R,"view"),a.map.s.view=c);null!=c&&a.Na("view",this.$.g);Object.prototype.hasOwnProperty.call(a.map.s,"projection")?c=a.map.s.projection:(c=a.l.getUniformLocation(a.R,"projection"),a.map.s.projection=c);null!=c&&a.Na("projection",this.ea.g);Object.prototype.hasOwnProperty.call(a.map.s,"transform")?c=a.map.s.transform:(c=a.l.getUniformLocation(a.R,"transform"),a.map.s.transform=c);null!=c&&(this.Pb.cc(this.ea,this.Va),a.Na("transform",this.Pb.g));
Object.prototype.hasOwnProperty.call(a.map.s,"modelview")?c=a.map.s.modelview:(c=a.l.getUniformLocation(a.R,"modelview"),a.map.s.modelview=c);null!=c&&a.Na("modelview",this.Va.g);Object.prototype.hasOwnProperty.call(a.map.s,"invModelview")?c=a.map.s.invModelview:(c=a.l.getUniformLocation(a.R,"invModelview"),a.map.s.invModelview=c);null!=c&&a.Na("invModelview",this.ob.g);Object.prototype.hasOwnProperty.call(a.map.s,"normalMatrix")?c=a.map.s.normalMatrix:(c=a.l.getUniformLocation(a.R,"normalMatrix"),
a.map.s.normalMatrix=c);null!=c&&(this.ja.Pc(),a.Na("normalMatrix",this.ja.sa));null!=this.h&&(a.Mc(this.h),Object.prototype.hasOwnProperty.call(a.map.s,"texResolution")?c=a.map.s.texResolution:(c=a.l.getUniformLocation(a.R,"texResolution"),a.map.s.texResolution=c),null!=c&&a.va("texResolution",this.h.width,this.h.height));Object.prototype.hasOwnProperty.call(a.map.s,"ambient")?c=a.map.s.ambient:(c=a.l.getUniformLocation(a.R,"ambient"),a.map.s.ambient=c);null!=c&&a.va("ambient",this.xc);Object.prototype.hasOwnProperty.call(a.map.s,
"diffuse")?c=a.map.s.diffuse:(c=a.l.getUniformLocation(a.R,"diffuse"),a.map.s.diffuse=c);null!=c&&a.va("diffuse",this.yc);Object.prototype.hasOwnProperty.call(a.map.s,"specular")?c=a.map.s.specular:(c=a.l.getUniformLocation(a.R,"specular"),a.map.s.specular=c);null!=c&&a.va("specular",this.Ec);Object.prototype.hasOwnProperty.call(a.map.s,"shininess")?c=a.map.s.shininess:(c=a.l.getUniformLocation(a.R,"shininess"),a.map.s.shininess=c);null!=c&&a.va("shininess",this.Dc);Object.prototype.hasOwnProperty.call(a.map.s,
"emission")?c=a.map.s.emission:(c=a.l.getUniformLocation(a.R,"emission"),a.map.s.emission=c);null!=c&&a.va("emission",this.Ac);Object.prototype.hasOwnProperty.call(a.map.s,"numLights")?c=a.map.s.numLights:(c=a.l.getUniformLocation(a.R,"numLights"),a.map.s.numLights=c);null!=c&&a.Lc(this.Ba);Object.prototype.hasOwnProperty.call(a.map.s,"lightPositions")?c=a.map.s.lightPositions:(c=a.l.getUniformLocation(a.R,"lightPositions"),a.map.s.lightPositions=c);if(null!=c){c=0;for(var d=this.Ba;c<d;){var e=c++,
f=this.na[e];a.va("lightPositions["+e+"]",f.ib*this.$.g[0]+f.jb*this.$.g[4]+f.kb*this.$.g[8]+this.$.g[12],f.ib*this.$.g[1]+f.jb*this.$.g[5]+f.kb*this.$.g[9]+this.$.g[13],f.ib*this.$.g[2]+f.jb*this.$.g[6]+f.kb*this.$.g[10]+this.$.g[14],f.dc)}}Object.prototype.hasOwnProperty.call(a.map.s,"lightNormals")?c=a.map.s.lightNormals:(c=a.l.getUniformLocation(a.R,"lightNormals"),a.map.s.lightNormals=c);if(null!=c)for(c=0,d=this.Ba;c<d;)e=c++,f=this.na[e],a.va("lightNormals["+e+"]",f.fb*this.$.g[0]+f.gb*this.$.g[4]+
f.hb*this.$.g[8],f.fb*this.$.g[1]+f.gb*this.$.g[5]+f.hb*this.$.g[9],f.fb*this.$.g[2]+f.gb*this.$.g[6]+f.hb*this.$.g[10]);Object.prototype.hasOwnProperty.call(a.map.s,"lightColors")?c=a.map.s.lightColors:(c=a.l.getUniformLocation(a.R,"lightColors"),a.map.s.lightColors=c);if(null!=c)for(c=0,d=this.Ba;c<d;)e=c++,f=this.na[e],a.va("lightColors["+e+"]",f.r,f.i,f.b);c=this.F;c.D&&(c.D=!1,c.l.bindBuffer(34963,c.buffer),c.l.bufferData(34963,new Int32Array(c.g.buffer,0,c.length),35048),c.l.bindBuffer(34963,
null));c=this.Xa;c.D&&(c.D=!1,c.l.bindBuffer(34962,c.buffer),c.l.bufferData(34962,new Float32Array(c.g.buffer,0,c.length),35048),c.l.bindBuffer(34962,null));c=this.Fa;c.D&&(c.D=!1,c.l.bindBuffer(34962,c.buffer),c.l.bufferData(34962,new Float32Array(c.g.buffer,0,c.length),35048),c.l.bindBuffer(34962,null));c=this.Wa;c.D&&(c.D=!1,c.l.bindBuffer(34962,c.buffer),c.l.bufferData(34962,new Float32Array(c.g.buffer,0,c.length),35048),c.l.bindBuffer(34962,null));c=this.Za;c.D&&(c.D=!1,c.l.bindBuffer(34962,
c.buffer),c.l.bufferData(34962,new Float32Array(c.g.buffer,0,c.length),35048),c.l.bindBuffer(34962,null));c=this.Xa;d=c.l.getAttribLocation(b,c.name);-1!=d&&(c.l.bindBuffer(34962,c.buffer),c.l.enableVertexAttribArray(d),c.l.vertexAttribPointer(d,c.size,5126,!1,0,0),c.l.bindBuffer(34962,null));c=this.Fa;d=c.l.getAttribLocation(b,c.name);-1!=d&&(c.l.bindBuffer(34962,c.buffer),c.l.enableVertexAttribArray(d),c.l.vertexAttribPointer(d,c.size,5126,!1,0,0),c.l.bindBuffer(34962,null));c=this.Wa;d=c.l.getAttribLocation(b,
c.name);-1!=d&&(c.l.bindBuffer(34962,c.buffer),c.l.enableVertexAttribArray(d),c.l.vertexAttribPointer(d,c.size,5126,!1,0,0),c.l.bindBuffer(34962,null));c=this.Za;b=c.l.getAttribLocation(b,c.name);-1!=b&&(c.l.bindBuffer(34962,c.buffer),c.l.enableVertexAttribArray(b),c.l.vertexAttribPointer(b,c.size,5126,!1,0,0),c.l.bindBuffer(34962,null));if(!a.za)throw Error("shader is not compiled");a.l.useProgram(a.R);b=0;c=Object.keys(a.xa.s);d=c.length;for(e=0;e<d;){f=c[e++];if(Object.prototype.hasOwnProperty.call(a.map.s,
f))var g=a.map.s[f];else g=a.l.getUniformLocation(a.R,f),a.map.s[f]=g;if(null!=g){g=a.xa.s[f];if(Object.prototype.hasOwnProperty.call(a.map.s,f))f=a.map.s[f];else{var h=a.l.getUniformLocation(a.R,f);f=a.map.s[f]=h}switch(g.type){case 0:a.l.uniform1i(f,g.eb);break;case 1:a.l.uniform2i(f,g.eb,g.ac);break;case 2:a.l.uniform3i(f,g.eb,g.ac,g.zc);break;case 3:a.l.uniform4i(f,g.eb,g.ac,g.zc,g.Rc);break;case 4:a.l.uniform1f(f,g.cb);break;case 5:a.l.uniform2f(f,g.cb,g.vb);break;case 6:a.l.uniform3f(f,g.cb,
g.vb,g.$b);break;case 7:a.l.uniform4f(f,g.cb,g.vb,g.$b,g.uc);break;case 8:a.l.uniformMatrix2fv(f,!1,g.Qa);break;case 9:a.l.uniformMatrix3fv(f,!1,g.ra);break;case 10:a.l.uniformMatrix4fv(f,!1,g.ga);break;case 11:a.l.activeTexture(33984+b),a.l.bindTexture(3553,null==g.ic?null:g.ic.wa),a.l.uniform1i(f,b),++b}}}a.l.activeTexture(33984);a=this.F;b=this.Gc;a.l.bindBuffer(34963,a.buffer);a.l.drawElements(b,a.length,5125,0);a.l.bindBuffer(34963,null)};P.I=!0;Eb.I=!0;ja.prototype.Bc=function(){this.g[0]=1;
this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=1;this.g[6]=0;this.g[7]=0;this.g[8]=0;this.g[9]=0;this.g[10]=1;this.g[11]=0;this.g[12]=0;this.g[13]=0;this.g[14]=0;this.g[15]=1};ja.prototype.bc=function(a,b,c,d,e,f,g,h,k){d=a-d;e=b-e;f=c-f;var l=1/Math.sqrt(d*d+e*e+f*f);d*=l;e*=l;f*=l;var m=h*f-k*e;k=k*d-g*f;g=g*e-h*d;l=1/Math.sqrt(m*m+k*k+g*g);m*=l;k*=l;g*=l;h=e*g-f*k;l=f*m-d*g;var p=d*k-e*m;this.g[0]=m;this.g[1]=h;this.g[2]=d;this.g[3]=0;this.g[4]=k;this.g[5]=l;this.g[6]=e;this.g[7]=0;
this.g[8]=g;this.g[9]=p;this.g[10]=f;this.g[11]=0;this.g[12]=-(m*a+k*b+g*c);this.g[13]=-(h*a+l*b+p*c);this.g[14]=-(d*a+e*b+f*c);this.g[15]=1};ja.prototype.perspective=function(a,b,c,d){a=1/Math.tan(.5*a);d/=c-d;this.g[0]=a/b;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=a;this.g[6]=0;this.g[7]=0;this.g[8]=0;this.g[9]=0;this.g[10]=d;this.g[11]=-1;this.g[12]=0;this.g[13]=0;this.g[14]=c*d;this.g[15]=0};ja.prototype.nc=function(a,b,c,d,e,f,g,h,k,l,m,p,w,H,Q,z){var fa=this.g[0],W=this.g[1],
S=this.g[2],T=this.g[3],U=this.g[4],E=this.g[5],I=this.g[6],K=this.g[7],F=this.g[8],J=this.g[9],N=this.g[10],G=this.g[11],L=this.g[12],O=this.g[13],M=this.g[14],R=this.g[15];this.g[0]=fa*a+U*e+F*k+L*w;this.g[1]=W*a+E*e+J*k+O*w;this.g[2]=S*a+I*e+N*k+M*w;this.g[3]=T*a+K*e+G*k+R*w;this.g[4]=fa*b+U*f+F*l+L*H;this.g[5]=W*b+E*f+J*l+O*H;this.g[6]=S*b+I*f+N*l+M*H;this.g[7]=T*b+K*f+G*l+R*H;this.g[8]=fa*c+U*g+F*m+L*Q;this.g[9]=W*c+E*g+J*m+O*Q;this.g[10]=S*c+I*g+N*m+M*Q;this.g[11]=T*c+K*g+G*m+R*Q;this.g[12]=
fa*d+U*h+F*p+L*z;this.g[13]=W*d+E*h+J*p+O*z;this.g[14]=S*d+I*h+N*p+M*z;this.g[15]=T*d+K*h+G*p+R*z};ja.prototype.cc=function(a,b){var c=a.g[0],d=a.g[1],e=a.g[2],f=a.g[3],g=a.g[4],h=a.g[5],k=a.g[6],l=a.g[7],m=a.g[8],p=a.g[9],w=a.g[10],H=a.g[11],Q=a.g[12],z=a.g[13],fa=a.g[14];a=a.g[15];var W=b.g[0],S=b.g[1],T=b.g[2],U=b.g[3],E=b.g[4],I=b.g[5],K=b.g[6],F=b.g[7],J=b.g[8],N=b.g[9],G=b.g[10],L=b.g[11],O=b.g[12],M=b.g[13],R=b.g[14];b=b.g[15];this.g[0]=c*W+g*S+m*T+Q*U;this.g[1]=d*W+h*S+p*T+z*U;this.g[2]=e*
W+k*S+w*T+fa*U;this.g[3]=f*W+l*S+H*T+a*U;this.g[4]=c*E+g*I+m*K+Q*F;this.g[5]=d*E+h*I+p*K+z*F;this.g[6]=e*E+k*I+w*K+fa*F;this.g[7]=f*E+l*I+H*K+a*F;this.g[8]=c*J+g*N+m*G+Q*L;this.g[9]=d*J+h*N+p*G+z*L;this.g[10]=e*J+k*N+w*G+fa*L;this.g[11]=f*J+l*N+H*G+a*L;this.g[12]=c*O+g*M+m*R+Q*b;this.g[13]=d*O+h*M+p*R+z*b;this.g[14]=e*O+k*M+w*R+fa*b;this.g[15]=f*O+l*M+H*R+a*b};ja.prototype.Qc=function(a){var b=a.g[1],c=a.g[2],d=a.g[3],e=a.g[4],f=a.g[5],g=a.g[6],h=a.g[7],k=a.g[8],l=a.g[9],m=a.g[10],p=a.g[11],w=a.g[12],
H=a.g[13],Q=a.g[14],z=a.g[15];this.g[0]=a.g[0];this.g[1]=e;this.g[2]=k;this.g[3]=w;this.g[4]=b;this.g[5]=f;this.g[6]=l;this.g[7]=H;this.g[8]=c;this.g[9]=g;this.g[10]=m;this.g[11]=Q;this.g[12]=d;this.g[13]=h;this.g[14]=p;this.g[15]=z};ja.prototype.inverse=function(a){var b=a.g[0],c=a.g[1],d=a.g[2],e=a.g[3],f=a.g[4],g=a.g[5],h=a.g[6],k=a.g[7],l=a.g[8],m=a.g[9],p=a.g[10],w=a.g[11],H=a.g[12],Q=a.g[13],z=a.g[14];a=a.g[15];var fa=b*g-f*c,W=b*m-l*c,S=b*Q-H*c,T=f*m-l*g,U=f*Q-H*g,E=l*Q-H*m,I=d*k-h*e,K=d*w-
p*e,F=d*a-z*e,J=h*w-p*k,N=h*a-z*k,G=p*a-z*w,L=g*G-m*N+Q*J,O=c*G-m*F+Q*K;Q=c*N-g*F+Q*I;c=c*J-g*K+m*I;g=b*L-f*O+l*Q-H*c;0!=g&&(g=1/g);this.g[0]=L*g;this.g[1]=-O*g;this.g[2]=Q*g;this.g[3]=-c*g;this.g[4]=-(f*G-l*N+H*J)*g;this.g[5]=(b*G-l*F+H*K)*g;this.g[6]=-(b*N-f*F+H*I)*g;this.g[7]=(b*J-f*K+l*I)*g;this.g[8]=(k*E-w*U+a*T)*g;this.g[9]=-(e*E-w*S+a*W)*g;this.g[10]=(e*U-k*S+a*fa)*g;this.g[11]=-(e*T-k*W+w*fa)*g;this.g[12]=-(h*E-p*U+z*T)*g;this.g[13]=(d*E-p*S+z*W)*g;this.g[14]=-(d*U-h*S+z*fa)*g;this.g[15]=
(d*T-h*W+p*fa)*g};ja.prototype.Pc=function(){this.sa[0]=this.g[0];this.sa[1]=this.g[1];this.sa[2]=this.g[2];this.sa[3]=this.g[4];this.sa[4]=this.g[5];this.sa[5]=this.g[6];this.sa[6]=this.g[8];this.sa[7]=this.g[9];this.sa[8]=this.g[10]};ja.prototype.assign=function(a){this.g[0]=a.g[0];this.g[1]=a.g[1];this.g[2]=a.g[2];this.g[3]=a.g[3];this.g[4]=a.g[4];this.g[5]=a.g[5];this.g[6]=a.g[6];this.g[7]=a.g[7];this.g[8]=a.g[8];this.g[9]=a.g[9];this.g[10]=a.g[10];this.g[11]=a.g[11];this.g[12]=a.g[12];this.g[13]=
a.g[13];this.g[14]=a.g[14];this.g[15]=a.g[15]};ja.I=!0;uj.I=!0;wa.prototype.Lc=function(a){var b=this.xa.s.numLights;null==b&&(b=new B);b.type=0;b.eb=a;this.xa.s.numLights=b};wa.prototype.va=function(a,b,c,d,e){var f=this.xa.s[a];null==f&&(f=new B);f.type=4;f.cb=b;null!=c&&(f.type=5,f.vb=c);null!=d&&(f.type=6,f.$b=d);null!=e&&(f.type=7,f.uc=e);this.xa.s[a]=f};wa.prototype.Na=function(a,b){var c=this.xa.s[a];null==c&&(c=new B);switch(b.length){case 4:c.type=8;null==c.Qa&&(c.Qa=new Float32Array(4));
c.Qa[0]=b[0];c.Qa[1]=b[1];c.Qa[2]=b[2];c.Qa[3]=b[3];break;case 9:c.type=9;null==c.ra&&(c.ra=new Float32Array(9));c.ra[0]=b[0];c.ra[1]=b[1];c.ra[2]=b[2];c.ra[3]=b[3];c.ra[4]=b[4];c.ra[5]=b[5];c.ra[6]=b[6];c.ra[7]=b[7];c.ra[8]=b[8];break;case 16:c.type=10;null==c.ga&&(c.ga=new Float32Array(16));c.ga[0]=b[0];c.ga[1]=b[1];c.ga[2]=b[2];c.ga[3]=b[3];c.ga[4]=b[4];c.ga[5]=b[5];c.ga[6]=b[6];c.ga[7]=b[7];c.ga[8]=b[8];c.ga[9]=b[9];c.ga[10]=b[10];c.ga[11]=b[11];c.ga[12]=b[12];c.ga[13]=b[13];c.ga[14]=b[14];c.ga[15]=
b[15];break;default:throw Error("invalid matrix array length: "+b.length);}this.xa.s[a]=c};wa.prototype.Mc=function(a){var b=this.xa.s.texture;null==b&&(b=new B);b.type=11;b.ic=a;this.xa.s.texture=b};wa.I=!0;B.I=!0;v.prototype.fa=function(){return this.O&&36193==this.type?5131:this.type};v.prototype.ea=function(){if(this.O)switch(this.type){case 5121:return 32856;case 5126:return 34836;case 36193:return 34842}else return 6408};v.prototype.ha=function(a,b,c){this.width=a;this.height=b;this.type=c;
c=a-1;c|=c>>1;c|=c>>2;c|=c>>4;c|=c>>8;a==(c|c>>16)+1?(c=b-1,c|=c>>1,c|=c>>2,c|=c>>4,c|=c>>8,c=b!=(c|c>>16)+1):c=!0;this.u=c;this.J=1/a;this.K=1/b;this.l.bindTexture(3553,this.wa);this.l.texImage2D(3553,0,this.ea(),a,b,0,6408,this.fa(),null);this.l.bindTexture(3553,null);this.h=a=this.h;this.l.bindTexture(3553,this.wa);switch(a){case 9728:this.l.texParameteri(3553,10240,9728);this.l.texParameteri(3553,10241,9728);break;case 9729:this.l.texParameteri(3553,10240,9729),this.l.texParameteri(3553,10241,
9729)}this.l.bindTexture(3553,null);a=this.j;b=this.o;if(this.u&&(33071!=a||33071!=b))throw ta.j("cannot use texture wrapping in NPOT textures");this.j=a;this.o=b;this.l.bindTexture(3553,this.wa);this.l.texParameteri(3553,10242,a);this.l.texParameteri(3553,10243,b);this.l.bindTexture(3553,null);this.ca()};v.prototype.load=function(a,b){this.width=a.width;this.height=a.height;this.type=b;b=this.width;--b;b|=b>>1;b|=b>>2;b|=b>>4;b|=b>>8;this.width==(b|b>>16)+1?(b=this.height,--b,b|=b>>1,b|=b>>2,b|=
b>>4,b|=b>>8,b=this.height!=(b|b>>16)+1):b=!0;this.u=b;this.J=1/this.width;this.K=1/this.height;this.l.bindTexture(3553,this.wa);this.l.texImage2D(3553,0,this.ea(),6408,this.fa(),a.source);this.l.bindTexture(3553,null);this.h=a=this.h;this.l.bindTexture(3553,this.wa);switch(a){case 9728:this.l.texParameteri(3553,10240,9728);this.l.texParameteri(3553,10241,9728);break;case 9729:this.l.texParameteri(3553,10240,9729),this.l.texParameteri(3553,10241,9729)}this.l.bindTexture(3553,null);a=this.j;b=this.o;
if(this.u&&(33071!=a||33071!=b))throw ta.j("cannot use texture wrapping in NPOT textures");this.j=a;this.o=b;this.l.bindTexture(3553,this.wa);this.l.texParameteri(3553,10242,a);this.l.texParameteri(3553,10243,b);this.l.bindTexture(3553,null);this.ca()};v.prototype.ca=function(){this.l.bindRenderbuffer(36161,this.V);this.l.renderbufferStorage(36161,33189,this.width,this.height);this.l.bindRenderbuffer(36161,null);this.l.bindFramebuffer(36160,this.ja);this.l.framebufferRenderbuffer(36160,36096,36161,
this.V);this.l.framebufferTexture2D(36160,36064,3553,this.wa,0);this.l.bindFramebuffer(36160,null)};v.I=!0;t.I=!0;u.j=function(a){return-1==u.o.indexOf(a)?null:a};Z.prototype.o=function(a,b,c,d){function e(h){h.cancelable&&h.preventDefault();h=h.changedTouches;for(var k=0,l=h.length;k<l;){var m=h[k++],p=f.h(m.identifier);if(null!=p){var w=(m.clientX-b.getBoundingClientRect().left)*(a.width/c.la/a.clientWidth);m=m.clientY-b.getBoundingClientRect().top;var H=a.height/c.la/a.clientHeight;p.ta=w;p.ua=
m*H;p.Ta=!1}}}this.j.fa(a,b,this,c,d);var f=this.touches;b.addEventListener("touchstart",function(h){h.cancelable&&h.preventDefault();h=h.changedTouches;for(var k=0,l=h.length;k<l;){var m=h[k++],p=f.h(m.identifier,!0),w=(m.clientX-b.getBoundingClientRect().left)*(a.width/c.la/a.clientWidth);m=m.clientY-b.getBoundingClientRect().top;var H=a.height/c.la/a.clientHeight;p.ta=w;p.ua=m*H;p.Ta=!0;p.Bb=!0}},{passive:!1});b.addEventListener("touchmove",function(h){h.cancelable&&h.preventDefault();h=h.changedTouches;
for(var k=0,l=h.length;k<l;){var m=h[k++],p=f.h(m.identifier);if(null!=p){var w=(m.clientX-b.getBoundingClientRect().left)*(a.width/c.la/a.clientWidth);m=m.clientY-b.getBoundingClientRect().top;var H=a.height/c.la/a.clientHeight;p.ta=w;p.ua=m*H}}},{passive:!1});b.addEventListener("touchend",e);b.addEventListener("touchcancel",e);if(null!=this.h){var g=this.h;d=window.document.documentElement;d.addEventListener("keydown",function(h){var k=u.j(h.code);null!=k&&(!u.h.includes(k)&&h.cancelable&&h.preventDefault(),
Object.prototype.hasOwnProperty.call(g.keys.s,k)||(g.keys.s[k]=new C),g.h.add(h.key))});d.addEventListener("keyup",function(h){var k=u.j(h.code);null!=k&&(!u.h.includes(k)&&h.cancelable&&h.preventDefault(),Object.prototype.hasOwnProperty.call(g.keys.s,k)||(g.keys.s[k]=new C),g.keys.s[k].release(),g.u.add(h.key))});window.addEventListener("blur",function(){for(var h=g.keys.s,k=Object.keys(h),l=k.length,m=0;m<l;)h[k[m++]].release()})}};Z.prototype.update=function(){this.j.update();for(var a=this.touches,
b=0;b<a.touches.length;){var c=a.touches[b];c.fc||c.Fb||c.Ta?(c.update(),++b):gh.h(a.touches,c)}if(null!=this.h){a=this.h;b=a.keys.s;c=Object.keys(b);for(var d=c.length,e=0;e<d;)b[c[e++]].update();a.o.clear();a.j.clear();b=a.h.values();for(c=b.next();!c.done;)d=c.value,c=b.next(),a.o.add(d);b=a.j.values();for(c=b.next();!c.done;)d=c.value,c=b.next(),a.j.add(d);a.h.clear();a.u.clear()}};Z.I=!0;var he=ge["pot.input.InputTarget"]={pb:!0,Oa:null,Jb:{La:"Canvas",ma:0,Ja:"pot.input.InputTarget",toString:Fc},
Document:{La:"Document",ma:1,Ja:"pot.input.InputTarget",toString:Fc},lc:{La:"None",ma:2,Ja:"pot.input.InputTarget",toString:Fc}};he.Oa=[he.Jb,he.Document,he.lc];C.prototype.release=function(){};C.prototype.update=function(){};C.I=!0;D.I=!0;x.prototype.fa=function(a,b,c,d,e){var f=this;b.addEventListener("mouseenter",function(){return f.h=!0});b.addEventListener("mouseleave",function(){return f.h=!1});b.addEventListener("mousedown",function(g){f.j=!0;f.h=!0;g.cancelable&&g.preventDefault();switch(g.button){case 0:f.o=
!0;f.V=!0;break;case 1:f.ca=!0;f.ha=!0;break;case 2:f.ea=!0,f.ja=!0}var h=g.clientX-a.getBoundingClientRect().left;switch(c.Ra){case 0:var k=a.width/d.la/a.clientWidth;break;case 1:k=a.width/a.clientWidth}f.ta=h*k;g=g.clientY-a.getBoundingClientRect().top;switch(c.Ra){case 0:var l=a.height/d.la/a.clientHeight;break;case 1:l=a.height/a.clientHeight}return f.ua=g*l});b.addEventListener("mouseup",function(g){f.j=!0;f.h=!0;g.cancelable&&g.preventDefault();switch(g.button){case 0:f.o=!1;break;case 1:f.ca=
!1;break;case 2:f.ea=!1}var h=g.clientX-a.getBoundingClientRect().left;switch(c.Ra){case 0:var k=a.width/d.la/a.clientWidth;break;case 1:k=a.width/a.clientWidth}f.ta=h*k;g=g.clientY-a.getBoundingClientRect().top;switch(c.Ra){case 0:var l=a.height/d.la/a.clientHeight;break;case 1:l=a.height/a.clientHeight}return f.ua=g*l});b.addEventListener("mousemove",function(g){f.j=!0;f.h=!0;var h=g.clientX-a.getBoundingClientRect().left;switch(c.Ra){case 0:var k=a.width/d.la/a.clientWidth;break;case 1:k=a.width/
a.clientWidth}f.ta=h*k;g=g.clientY-a.getBoundingClientRect().top;switch(c.Ra){case 0:var l=a.height/d.la/a.clientHeight;break;case 1:l=a.height/a.clientHeight}return f.ua=g*l});e&&b.addEventListener("wheel",function(g){switch(g.deltaMode){case 0:var h=1;break;case 1:h=24;break;case 2:h=720;break;default:throw ta.j("invalid wheel delta mode");}f.u+=g.deltaX*h;f.O+=g.deltaY*h;g.preventDefault()},{passive:!1});b.addEventListener("contextmenu",function(g){f.j=!0;f.h=!0;g.preventDefault()});b.addEventListener("pointerdown",
function(g){b.setPointerCapture(g.pointerId)});b.addEventListener("pointerup",function(g){b.releasePointerCapture(g.pointerId)})};x.prototype.update=function(){this.x=this.ta;this.y=this.ua;this.left=this.o||this.V;this.ja=this.ha=this.V=!1;this.O=this.u=0};x.I=!0;r.prototype.end=function(a,b){this.ta=a;this.ua=b;this.Ta=!1};r.prototype.update=function(){this.x=this.ta;this.y=this.ua;this.fc=this.Fb;this.Fb=this.Ta||this.Bb;this.Bb=!1};r.I=!0;q.prototype.h=function(a,b){null==b&&(b=!1);for(var c=
0,d=this.touches;c<d.length;){var e=d[c];++c;if(e.hc==a)return e}return b?this.j(a):null};q.prototype.j=function(a){for(var b=0;;){for(var c=b,d=0,e=this.touches;d<e.length;)e[d++].id==b&&++b;if(c==b)break}c=new r;c.hc=a;c.id=b;this.touches.push(c);return c};q.I=!0;n.Hb|=0;String.I=!0;Array.I=!0;Date.I="Date";Fa.h=!1;ra.h=!1;A.h=[new y(0,0),new y(0,0),new y(0,0),new y(0,0)];A.j=[new y(0,0),new y(0,0),new y(0,0),new y(0,0)];A.o=[new y(0,0),new y(0,0),new y(0,0),new y(0,0)];A.u=[new y(0,0),new y(0,
0),new y(0,0),new y(0,0)];yb.h=!1;u.h="F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12".split(" ");u.o="Escape Digit0 Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 Minus Equal Backspace Tab KeyQ KeyW KeyE KeyR KeyT KeyY KeyU KeyI KeyO KeyP BracketLeft BracketRight Enter ControlLeft KeyA KeyS KeyD KeyF KeyG KeyH KeyJ KeyK KeyL Semicolon Quote Backquote ShiftLeft Backslash KeyZ KeyX KeyC KeyV KeyB KeyN KeyM Comma Period Slash ShiftRight NumpadMultiply AltLeft Space CapsLock F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 Numpad7 Numpad8 Numpad9 NumpadSubtract Numpad4 Numpad5 Numpad6 NumpadAdd Numpad1 Numpad2 Numpad3 Numpad0 NumpadDecimal IntlBackslash F11 F12 IntlYen NumpadEnter ControlRight NumpadDivide PrintScreen AltRight NumLock Home ArrowUp PageUp ArrowLeft ArrowRight End ArrowDown PageDown Insert Delete ContextMenu".split(" ");
ua.j()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
